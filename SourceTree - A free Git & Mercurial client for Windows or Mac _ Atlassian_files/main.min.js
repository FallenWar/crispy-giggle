!function(t){"function"==typeof define&&define.amd?define(["jquery"],t):"object"==typeof exports?module.exports=t(require("jquery")):t(jQuery||Zepto)}(function(t){var e=function(e,i,n){var a={invalid:[],getCaret:function(){try{var t,i=0,n=e.get(0),s=document.selection,o=n.selectionStart;return s&&-1===navigator.appVersion.indexOf("MSIE 10")?(t=s.createRange(),t.moveStart("character",-a.val().length),i=t.text.length):(o||"0"===o)&&(i=o),i}catch(r){}},setCaret:function(t){try{if(e.is(":focus")){var i;i=e.get(0).createTextRange(),i.collapse(!0),i.moveEnd("character",t),i.moveStart("character",t),i.select()}}catch(n){}},events:function(){e.on("keydown.mask",function(t){e.data("mask-keycode",t.keyCode||t.which)}).on(t.jMaskGlobals.useInput?"input.mask":"keyup.mask",a.behaviour).on("paste.mask drop.mask",function(){setTimeout(function(){e.keydown().keyup()},100)}).on("change.mask",function(){e.data("changed",!0)}).on("blur.mask",function(){r===a.val()||e.data("changed")||e.trigger("change"),e.data("changed",!1)}).on("blur.mask",function(){r=a.val()}).on("focus.mask",function(e){!0===n.selectOnFocus&&t(e.target).select()}).on("focusout.mask",function(){n.clearIfNotMatch&&!s.test(a.val())&&a.val("")})},getRegexMask:function(){for(var t,e,n,a,s=[],r=0;r<i.length;r++)(t=o.translation[i.charAt(r)])?(e=t.pattern.toString().replace(/.{1}$|^.{1}/g,""),n=t.optional,(t=t.recursive)?(s.push(i.charAt(r)),a={digit:i.charAt(r),pattern:e}):s.push(n||t?e+"?":e)):s.push(i.charAt(r).replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&"));return s=s.join(""),a&&(s=s.replace(new RegExp("("+a.digit+"(.*"+a.digit+")?)"),"($1)?").replace(new RegExp(a.digit,"g"),a.pattern)),new RegExp(s)},destroyEvents:function(){e.off("input keydown keyup paste drop blur focusout ".split(" ").join(".mask "))},val:function(t){var i=e.is("input")?"val":"text";return 0<arguments.length?(e[i]()!==t&&e[i](t),i=e):i=e[i](),i},getMCharsBeforeCount:function(t,e){for(var n=0,a=0,s=i.length;a<s&&a<t;a++)o.translation[i.charAt(a)]||(t=e?t+1:t,n++);return n},caretPos:function(t,e,n,s){return o.translation[i.charAt(Math.min(t-1,i.length-1))]?Math.min(t+n-e-s,n):a.caretPos(t+1,e,n,s)},behaviour:function(i){i=i||window.event,a.invalid=[];var n=e.data("mask-keycode");if(-1===t.inArray(n,o.byPassKeys)){var s=a.getCaret(),r=a.val().length,l=a.getMasked(),d=l.length,c=a.getMCharsBeforeCount(d-1)-a.getMCharsBeforeCount(r-1),u=s<r;return a.val(l),u&&(8!==n&&46!==n&&(s=a.caretPos(s,r,d,c)),a.setCaret(s)),a.callbacks(i)}},getMasked:function(t){var e,s,r=[],l=a.val(),d=0,c=i.length,u=0,h=l.length,m=1,f="push",p=-1;for(n.reverse?(f="unshift",m=-1,e=0,d=c-1,u=h-1,s=function(){return-1<d&&-1<u}):(e=c-1,s=function(){return d<c&&u<h});s();){var g=i.charAt(d),v=l.charAt(u),w=o.translation[g];w?(v.match(w.pattern)?(r[f](v),w.recursive&&(-1===p?p=d:d===e&&(d=p-m),e===p&&(d-=m)),d+=m):w.optional?(d+=m,u-=m):w.fallback?(r[f](w.fallback),d+=m,u-=m):a.invalid.push({p:u,v:v,e:w.pattern}),u+=m):(t||r[f](g),v===g&&(u+=m),d+=m)}return t=i.charAt(e),c!==h+1||o.translation[t]||r.push(t),r.join("")},callbacks:function(t){var s=a.val(),o=s!==r,l=[s,t,e,n],d=function(t,e,i){"function"==typeof n[t]&&e&&n[t].apply(this,i)};d("onChange",!0===o,l),d("onKeyPress",!0===o,l),d("onComplete",s.length===i.length,l),d("onInvalid",0<a.invalid.length,[s,t,e,a.invalid,n])}};e=t(e);var s,o=this,r=a.val();i="function"==typeof i?i(a.val(),void 0,e,n):i,o.mask=i,o.options=n,o.remove=function(){var t=a.getCaret();return a.destroyEvents(),a.val(o.getCleanVal()),a.setCaret(t-a.getMCharsBeforeCount(t)),e},o.getCleanVal=function(){return a.getMasked(!0)},o.init=function(i){i=i||!1,n=n||{},o.clearIfNotMatch=t.jMaskGlobals.clearIfNotMatch,o.byPassKeys=t.jMaskGlobals.byPassKeys,o.translation=t.extend({},t.jMaskGlobals.translation,n.translation),o=t.extend(!0,{},o,n),s=a.getRegexMask(),!1===i?(n.placeholder&&e.attr("placeholder",n.placeholder),e.data("mask")&&e.attr("autocomplete","off"),a.destroyEvents(),a.events(),i=a.getCaret(),a.val(a.getMasked()),a.setCaret(i+a.getMCharsBeforeCount(i,!0))):(a.events(),a.val(a.getMasked()))},o.init(!e.is("input"))};t.maskWatchers={};var i=function(){var i=t(this),a={},s=i.attr("data-mask");if(i.attr("data-mask-reverse")&&(a.reverse=!0),i.attr("data-mask-clearifnotmatch")&&(a.clearIfNotMatch=!0),"true"===i.attr("data-mask-selectonfocus")&&(a.selectOnFocus=!0),n(i,s,a))return i.data("mask",new e(this,s,a))},n=function(e,i,n){n=n||{};var a=t(e).data("mask"),s=JSON.stringify;e=t(e).val()||t(e).text();try{return"function"==typeof i&&(i=i(e)),"object"!=typeof a||s(a.options)!==s(n)||a.mask!==i}catch(o){}};t.fn.mask=function(i,a){a=a||{};var s=this.selector,o=t.jMaskGlobals,r=o.watchInterval,o=a.watchInputs||o.watchInputs,l=function(){if(n(this,i,a))return t(this).data("mask",new e(this,i,a))};return t(this).each(l),s&&""!==s&&o&&(clearInterval(t.maskWatchers[s]),t.maskWatchers[s]=setInterval(function(){t(document).find(s).each(l)},r)),this},t.fn.unmask=function(){return clearInterval(t.maskWatchers[this.selector]),delete t.maskWatchers[this.selector],this.each(function(){var e=t(this).data("mask");e&&e.remove().removeData("mask")})},t.fn.cleanVal=function(){return this.data("mask").getCleanVal()},t.applyDataMask=function(e){e=e||t.jMaskGlobals.maskElements,(e instanceof t?e:t(e)).filter(t.jMaskGlobals.dataMaskAttr).each(i)};var a={maskElements:"input,td,span,div",dataMaskAttr:"*[data-mask]",dataMask:!0,watchInterval:300,watchInputs:!0,useInput:function(t){var e,i=document.createElement("div");return t="on"+t,e=t in i,e||(i.setAttribute(t,"return;"),e="function"==typeof i[t]),e}("input"),watchDataMask:!1,byPassKeys:[9,16,17,18,36,37,38,39,40,91],translation:{0:{pattern:/\d/},9:{pattern:/\d/,optional:!0},"#":{pattern:/\d/,recursive:!0},A:{pattern:/[a-zA-Z0-9]/},S:{pattern:/[a-zA-Z]/}}};t.jMaskGlobals=t.jMaskGlobals||{},a=t.jMaskGlobals=t.extend(!0,{},a,t.jMaskGlobals),a.dataMask&&t.applyDataMask(),setInterval(function(){t.jMaskGlobals.watchDataMask&&t.applyDataMask()},a.watchInterval)}),!function(t){"function"==typeof define&&define.amd?define(["jquery"],t):t(jQuery)}(function(t){t.extend(t.fn,{validate:function(e){if(!this.length)return void(e&&e.debug&&window.console&&void 0);var i=t.data(this[0],"validator");return i?i:(this.attr("novalidate","novalidate"),i=new t.validator(e,this[0]),t.data(this[0],"validator",i),i.settings.onsubmit&&(this.validateDelegate(":submit","click",function(e){i.settings.submitHandler&&(i.submitButton=e.target),t(e.target).hasClass("cancel")&&(i.cancelSubmit=!0),void 0!==t(e.target).attr("formnovalidate")&&(i.cancelSubmit=!0)}),this.submit(function(e){function n(){var n,a;return!i.settings.submitHandler||(i.submitButton&&(n=t("<input type='hidden'/>").attr("name",i.submitButton.name).val(t(i.submitButton).val()).appendTo(i.currentForm)),a=i.settings.submitHandler.call(i,i.currentForm,e),i.submitButton&&n.remove(),void 0!==a&&a)}return i.settings.debug&&e.preventDefault(),i.cancelSubmit?(i.cancelSubmit=!1,n()):i.form()?i.pendingRequest?(i.formSubmitted=!0,!1):n():(i.focusInvalid(),!1)})),i)},valid:function(){var e,i;return t(this[0]).is("form")?e=this.validate().form():(e=!0,i=t(this[0].form).validate(),this.each(function(){e=i.element(this)&&e})),e},removeAttrs:function(e){var i={},n=this;return t.each(e.split(/\s/),function(t,e){i[e]=n.attr(e),n.removeAttr(e)}),i},rules:function(e,i){var n,a,s,o,r,l,d=this[0];if(e)switch(n=t.data(d.form,"validator").settings,a=n.rules,s=t.validator.staticRules(d),e){case"add":t.extend(s,t.validator.normalizeRule(i)),delete s.messages,a[d.name]=s,i.messages&&(n.messages[d.name]=t.extend(n.messages[d.name],i.messages));break;case"remove":return i?(l={},t.each(i.split(/\s/),function(e,i){l[i]=s[i],delete s[i],"required"===i&&t(d).removeAttr("aria-required")}),l):(delete a[d.name],s)}return o=t.validator.normalizeRules(t.extend({},t.validator.classRules(d),t.validator.attributeRules(d),t.validator.dataRules(d),t.validator.staticRules(d)),d),o.required&&(r=o.required,delete o.required,o=t.extend({required:r},o),t(d).attr("aria-required","true")),o.remote&&(r=o.remote,delete o.remote,o=t.extend(o,{remote:r})),o}}),t.extend(t.expr[":"],{blank:function(e){return!t.trim(""+t(e).val())},filled:function(e){return!!t.trim(""+t(e).val())},unchecked:function(e){return!t(e).prop("checked")}}),t.validator=function(e,i){this.settings=t.extend(!0,{},t.validator.defaults,e),this.currentForm=i,this.init()},t.validator.format=function(e,i){return 1===arguments.length?function(){var i=t.makeArray(arguments);return i.unshift(e),t.validator.format.apply(this,i)}:(arguments.length>2&&i.constructor!==Array&&(i=t.makeArray(arguments).slice(1)),i.constructor!==Array&&(i=[i]),t.each(i,function(t,i){e=e.replace(new RegExp("\\{"+t+"\\}","g"),function(){return i})}),e)},t.extend(t.validator,{defaults:{messages:{},groups:{},rules:{},errorClass:"error",validClass:"valid",errorElement:"label",focusCleanup:!1,focusInvalid:!0,errorContainer:t([]),errorLabelContainer:t([]),onsubmit:!0,ignore:":hidden",ignoreTitle:!1,onfocusin:function(t){this.lastActive=t,this.settings.focusCleanup&&(this.settings.unhighlight&&this.settings.unhighlight.call(this,t,this.settings.errorClass,this.settings.validClass),this.hideThese(this.errorsFor(t)))},onfocusout:function(t){this.checkable(t)||!(t.name in this.submitted)&&this.optional(t)||this.element(t)},onkeyup:function(t,e){(9!==e.which||""!==this.elementValue(t))&&(t.name in this.submitted||t===this.lastElement)&&this.element(t)},onclick:function(t){t.name in this.submitted?this.element(t):t.parentNode.name in this.submitted&&this.element(t.parentNode)},highlight:function(e,i,n){"radio"===e.type?this.findByName(e.name).addClass(i).removeClass(n):t(e).addClass(i).removeClass(n)},unhighlight:function(e,i,n){"radio"===e.type?this.findByName(e.name).removeClass(i).addClass(n):t(e).removeClass(i).addClass(n)}},setDefaults:function(e){t.extend(t.validator.defaults,e)},messages:{required:"This field is required.",remote:"Please fix this field.",email:"Please enter a valid email address.",url:"Please enter a valid URL.",date:"Please enter a valid date.",dateISO:"Please enter a valid date ( ISO ).",number:"Please enter a valid number.",digits:"Please enter only digits.",creditcard:"Please enter a valid credit card number.",equalTo:"Please enter the same value again.",maxlength:t.validator.format("Please enter no more than {0} characters."),minlength:t.validator.format("Please enter at least {0} characters."),rangelength:t.validator.format("Please enter a value between {0} and {1} characters long."),range:t.validator.format("Please enter a value between {0} and {1}."),max:t.validator.format("Please enter a value less than or equal to {0}."),min:t.validator.format("Please enter a value greater than or equal to {0}.")},autoCreateRanges:!1,prototype:{init:function(){function e(e){var i=t.data(this[0].form,"validator"),n="on"+e.type.replace(/^validate/,""),a=i.settings;a[n]&&!this.is(a.ignore)&&a[n].call(i,this[0],e)}this.labelContainer=t(this.settings.errorLabelContainer),this.errorContext=this.labelContainer.length&&this.labelContainer||t(this.currentForm),this.containers=t(this.settings.errorContainer).add(this.settings.errorLabelContainer),this.submitted={},this.valueCache={},this.pendingRequest=0,this.pending={},this.invalid={},this.reset();var i,n=this.groups={};t.each(this.settings.groups,function(e,i){"string"==typeof i&&(i=i.split(/\s/)),t.each(i,function(t,i){n[i]=e})}),i=this.settings.rules,t.each(i,function(e,n){i[e]=t.validator.normalizeRule(n)}),t(this.currentForm).validateDelegate(":text, [type='password'], [type='file'], select, textarea, [type='number'], [type='search'] ,[type='tel'], [type='url'], [type='email'], [type='datetime'], [type='date'], [type='month'], [type='week'], [type='time'], [type='datetime-local'], [type='range'], [type='color'], [type='radio'], [type='checkbox']","focusin focusout keyup",e).validateDelegate("select, option, [type='radio'], [type='checkbox']","click",e),this.settings.invalidHandler&&t(this.currentForm).bind("invalid-form.validate",this.settings.invalidHandler),t(this.currentForm).find("[required], [data-rule-required], .required").attr("aria-required","true")},form:function(){return this.checkForm(),t.extend(this.submitted,this.errorMap),this.invalid=t.extend({},this.errorMap),this.valid()||t(this.currentForm).triggerHandler("invalid-form",[this]),this.showErrors(),this.valid()},checkForm:function(){this.prepareForm();for(var t=0,e=this.currentElements=this.elements();e[t];t++)this.check(e[t]);return this.valid()},element:function(e){var i=this.clean(e),n=this.validationTargetFor(i),a=!0;return this.lastElement=n,void 0===n?delete this.invalid[i.name]:(this.prepareElement(n),this.currentElements=t(n),a=this.check(n)!==!1,a?delete this.invalid[n.name]:this.invalid[n.name]=!0),t(e).attr("aria-invalid",!a),this.numberOfInvalids()||(this.toHide=this.toHide.add(this.containers)),this.showErrors(),a},showErrors:function(e){if(e){t.extend(this.errorMap,e),this.errorList=[];for(var i in e)this.errorList.push({message:e[i],element:this.findByName(i)[0]});this.successList=t.grep(this.successList,function(t){return!(t.name in e)})}this.settings.showErrors?this.settings.showErrors.call(this,this.errorMap,this.errorList):this.defaultShowErrors()},resetForm:function(){t.fn.resetForm&&t(this.currentForm).resetForm(),this.submitted={},this.lastElement=null,this.prepareForm(),this.hideErrors(),this.elements().removeClass(this.settings.errorClass).removeData("previousValue").removeAttr("aria-invalid")},numberOfInvalids:function(){return this.objectLength(this.invalid)},objectLength:function(t){var e,i=0;for(e in t)i++;return i},hideErrors:function(){this.hideThese(this.toHide)},hideThese:function(t){t.not(this.containers).text(""),this.addWrapper(t).hide()},valid:function(){return 0===this.size()},size:function(){return this.errorList.length},focusInvalid:function(){if(this.settings.focusInvalid)try{t(this.findLastActive()||this.errorList.length&&this.errorList[0].element||[]).filter(":visible").focus().trigger("focusin")}catch(e){}},findLastActive:function(){var e=this.lastActive;return e&&1===t.grep(this.errorList,function(t){return t.element.name===e.name}).length&&e},elements:function(){var e=this,i={};return t(this.currentForm).find("input, select, textarea").not(":submit, :reset, :image, [disabled], [readonly]").not(this.settings.ignore).filter(function(){return!this.name&&e.settings.debug&&window.console&&void 0,!(this.name in i||!e.objectLength(t(this).rules()))&&(i[this.name]=!0,!0)})},clean:function(e){return t(e)[0]},errors:function(){var e=this.settings.errorClass.split(" ").join(".");return t(this.settings.errorElement+"."+e,this.errorContext)},reset:function(){this.successList=[],this.errorList=[],this.errorMap={},this.toShow=t([]),this.toHide=t([]),this.currentElements=t([])},prepareForm:function(){this.reset(),this.toHide=this.errors().add(this.containers)},prepareElement:function(t){this.reset(),this.toHide=this.errorsFor(t)},elementValue:function(e){var i,n=t(e),a=e.type;return"radio"===a||"checkbox"===a?t("input[name='"+e.name+"']:checked").val():"number"===a&&"undefined"!=typeof e.validity?!e.validity.badInput&&n.val():(i=n.val(),"string"==typeof i?i.replace(/\r/g,""):i)},check:function(e){e=this.validationTargetFor(this.clean(e));var i,n,a,s=t(e).rules(),o=t.map(s,function(t,e){return e}).length,r=!1,l=this.elementValue(e);for(n in s){a={method:n,parameters:s[n]};try{if(i=t.validator.methods[n].call(this,l,e,a.parameters),"dependency-mismatch"===i&&1===o){r=!0;continue}if(r=!1,"pending"===i)return void(this.toHide=this.toHide.not(this.errorsFor(e)));if(!i)return this.formatAndAdd(e,a),!1}catch(d){throw this.settings.debug&&window.console&&void 0,d}}if(!r)return this.objectLength(s)&&this.successList.push(e),!0},customDataMessage:function(e,i){return t(e).data("msg"+i.charAt(0).toUpperCase()+i.substring(1).toLowerCase())||t(e).data("msg")},customMessage:function(t,e){var i=this.settings.messages[t];return i&&(i.constructor===String?i:i[e])},findDefined:function(){for(var t=0;t<arguments.length;t++)if(void 0!==arguments[t])return arguments[t]},defaultMessage:function(e,i){return this.findDefined(this.customMessage(e.name,i),this.customDataMessage(e,i),!this.settings.ignoreTitle&&e.title||void 0,t.validator.messages[i],"<strong>Warning: No message defined for "+e.name+"</strong>")},formatAndAdd:function(e,i){var n=this.defaultMessage(e,i.method),a=/\$?\{(\d+)\}/g;"function"==typeof n?n=n.call(this,i.parameters,e):a.test(n)&&(n=t.validator.format(n.replace(a,"{$1}"),i.parameters)),this.errorList.push({message:n,element:e,method:i.method}),this.errorMap[e.name]=n,this.submitted[e.name]=n},addWrapper:function(t){return this.settings.wrapper&&(t=t.add(t.parent(this.settings.wrapper))),t},defaultShowErrors:function(){var t,e,i;for(t=0;this.errorList[t];t++)i=this.errorList[t],this.settings.highlight&&this.settings.highlight.call(this,i.element,this.settings.errorClass,this.settings.validClass),this.showLabel(i.element,i.message);if(this.errorList.length&&(this.toShow=this.toShow.add(this.containers)),this.settings.success)for(t=0;this.successList[t];t++)this.showLabel(this.successList[t]);if(this.settings.unhighlight)for(t=0,e=this.validElements();e[t];t++)this.settings.unhighlight.call(this,e[t],this.settings.errorClass,this.settings.validClass);this.toHide=this.toHide.not(this.toShow),this.hideErrors(),this.addWrapper(this.toShow).show()},validElements:function(){return this.currentElements.not(this.invalidElements())},invalidElements:function(){return t(this.errorList).map(function(){return this.element})},showLabel:function(e,i){var n,a,s,o=this.errorsFor(e),r=this.idOrName(e),l=t(e).attr("aria-describedby");o.length?(o.removeClass(this.settings.validClass).addClass(this.settings.errorClass),o.html(i)):(o=t("<"+this.settings.errorElement+">").attr("id",r+"-error").addClass(this.settings.errorClass).html(i||""),n=o,this.settings.wrapper&&(n=o.hide().show().wrap("<"+this.settings.wrapper+"/>").parent()),this.labelContainer.length?this.labelContainer.append(n):this.settings.errorPlacement?this.settings.errorPlacement(n,t(e)):n.insertAfter(e),o.is("label")?o.attr("for",r):0===o.parents("label[for='"+r+"']").length&&(s=o.attr("id").replace(/(:|\.|\[|\])/g,"\\$1"),l?l.match(new RegExp("\\b"+s+"\\b"))||(l+=" "+s):l=s,t(e).attr("aria-describedby",l),a=this.groups[e.name],a&&t.each(this.groups,function(e,i){i===a&&t("[name='"+e+"']",this.currentForm).attr("aria-describedby",o.attr("id"))}))),!i&&this.settings.success&&(o.text(""),"string"==typeof this.settings.success?o.addClass(this.settings.success):this.settings.success(o,e)),this.toShow=this.toShow.add(o)},errorsFor:function(e){var i=this.idOrName(e),n=t(e).attr("aria-describedby"),a="label[for='"+i+"'], label[for='"+i+"'] *";return n&&(a=a+", #"+n.replace(/\s+/g,", #")),this.errors().filter(a)},idOrName:function(t){return this.groups[t.name]||(this.checkable(t)?t.name:t.id||t.name)},validationTargetFor:function(e){return this.checkable(e)&&(e=this.findByName(e.name)),t(e).not(this.settings.ignore)[0]},checkable:function(t){return/radio|checkbox/i.test(t.type)},findByName:function(e){return t(this.currentForm).find("[name='"+e+"']")},getLength:function(e,i){switch(i.nodeName.toLowerCase()){case"select":return t("option:selected",i).length;case"input":if(this.checkable(i))return this.findByName(i.name).filter(":checked").length}return e.length},depend:function(t,e){return!this.dependTypes[typeof t]||this.dependTypes[typeof t](t,e)},dependTypes:{"boolean":function(t){return t},string:function(e,i){return!!t(e,i.form).length},"function":function(t,e){return t(e)}},optional:function(e){var i=this.elementValue(e);return!t.validator.methods.required.call(this,i,e)&&"dependency-mismatch"},startRequest:function(t){this.pending[t.name]||(this.pendingRequest++,this.pending[t.name]=!0)},stopRequest:function(e,i){this.pendingRequest--,this.pendingRequest<0&&(this.pendingRequest=0),delete this.pending[e.name],i&&0===this.pendingRequest&&this.formSubmitted&&this.form()?(t(this.currentForm).submit(),this.formSubmitted=!1):!i&&0===this.pendingRequest&&this.formSubmitted&&(t(this.currentForm).triggerHandler("invalid-form",[this]),this.formSubmitted=!1)},previousValue:function(e){return t.data(e,"previousValue")||t.data(e,"previousValue",{old:null,valid:!0,message:this.defaultMessage(e,"remote")})}},classRuleSettings:{required:{required:!0},email:{email:!0},url:{url:!0},date:{date:!0},dateISO:{dateISO:!0},number:{number:!0},digits:{digits:!0},creditcard:{creditcard:!0}},addClassRules:function(e,i){e.constructor===String?this.classRuleSettings[e]=i:t.extend(this.classRuleSettings,e)},classRules:function(e){var i={},n=t(e).attr("class");return n&&t.each(n.split(" "),function(){this in t.validator.classRuleSettings&&t.extend(i,t.validator.classRuleSettings[this])}),i},attributeRules:function(e){var i,n,a={},s=t(e),o=e.getAttribute("type");for(i in t.validator.methods)"required"===i?(n=e.getAttribute(i),""===n&&(n=!0),n=!!n):n=s.attr(i),/min|max/.test(i)&&(null===o||/number|range|text/.test(o))&&(n=Number(n)),n||0===n?a[i]=n:o===i&&"range"!==o&&(a[i]=!0);return a.maxlength&&/-1|2147483647|524288/.test(a.maxlength)&&delete a.maxlength,a},dataRules:function(e){var i,n,a={},s=t(e);for(i in t.validator.methods)n=s.data("rule"+i.charAt(0).toUpperCase()+i.substring(1).toLowerCase()),void 0!==n&&(a[i]=n);return a},staticRules:function(e){var i={},n=t.data(e.form,"validator");return n.settings.rules&&(i=t.validator.normalizeRule(n.settings.rules[e.name])||{}),i},normalizeRules:function(e,i){return t.each(e,function(n,a){if(a===!1)return void delete e[n];if(a.param||a.depends){var s=!0;switch(typeof a.depends){case"string":s=!!t(a.depends,i.form).length;break;case"function":s=a.depends.call(i,i)}s?e[n]=void 0===a.param||a.param:delete e[n]}}),t.each(e,function(n,a){e[n]=t.isFunction(a)?a(i):a}),t.each(["minlength","maxlength"],function(){e[this]&&(e[this]=Number(e[this]))}),t.each(["rangelength","range"],function(){var i;e[this]&&(t.isArray(e[this])?e[this]=[Number(e[this][0]),Number(e[this][1])]:"string"==typeof e[this]&&(i=e[this].replace(/[\[\]]/g,"").split(/[\s,]+/),e[this]=[Number(i[0]),Number(i[1])]))}),t.validator.autoCreateRanges&&(null!=e.min&&null!=e.max&&(e.range=[e.min,e.max],delete e.min,delete e.max),null!=e.minlength&&null!=e.maxlength&&(e.rangelength=[e.minlength,e.maxlength],delete e.minlength,delete e.maxlength)),e},normalizeRule:function(e){if("string"==typeof e){var i={};t.each(e.split(/\s/),function(){i[this]=!0}),e=i}return e},addMethod:function(e,i,n){t.validator.methods[e]=i,t.validator.messages[e]=void 0!==n?n:t.validator.messages[e],i.length<3&&t.validator.addClassRules(e,t.validator.normalizeRule(e))},methods:{required:function(e,i,n){if(!this.depend(n,i))return"dependency-mismatch";if("select"===i.nodeName.toLowerCase()){var a=t(i).val();return a&&a.length>0}return this.checkable(i)?this.getLength(e,i)>0:t.trim(e).length>0},email:function(t,e){return this.optional(e)||/^[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/.test(t)},url:function(t,e){return this.optional(e)||/^(https?|s?ftp):\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i.test(t)},date:function(t,e){return this.optional(e)||!/Invalid|NaN/.test(new Date(t).toString())},dateISO:function(t,e){return this.optional(e)||/^\d{4}[\/\-](0?[1-9]|1[012])[\/\-](0?[1-9]|[12][0-9]|3[01])$/.test(t)},number:function(t,e){return this.optional(e)||/^-?(?:\d+|\d{1,3}(?:,\d{3})+)?(?:\.\d+)?$/.test(t)},digits:function(t,e){return this.optional(e)||/^\d+$/.test(t)},creditcard:function(t,e){if(this.optional(e))return"dependency-mismatch";if(/[^0-9 \-]+/.test(t))return!1;var i,n,a=0,s=0,o=!1;if(t=t.replace(/\D/g,""),t.length<13||t.length>19)return!1;for(i=t.length-1;i>=0;i--)n=t.charAt(i),s=parseInt(n,10),o&&(s*=2)>9&&(s-=9),a+=s,o=!o;return a%10===0},minlength:function(e,i,n){var a=t.isArray(e)?e.length:this.getLength(e,i);return this.optional(i)||a>=n},maxlength:function(e,i,n){var a=t.isArray(e)?e.length:this.getLength(e,i);return this.optional(i)||n>=a},rangelength:function(e,i,n){var a=t.isArray(e)?e.length:this.getLength(e,i);return this.optional(i)||a>=n[0]&&a<=n[1]},min:function(t,e,i){return this.optional(e)||t>=i},max:function(t,e,i){return this.optional(e)||i>=t},range:function(t,e,i){return this.optional(e)||t>=i[0]&&t<=i[1]},equalTo:function(e,i,n){var a=t(n);return this.settings.onfocusout&&a.unbind(".validate-equalTo").bind("blur.validate-equalTo",function(){t(i).valid()}),e===a.val()},remote:function(e,i,n){if(this.optional(i))return"dependency-mismatch";var a,s,o=this.previousValue(i);return this.settings.messages[i.name]||(this.settings.messages[i.name]={}),o.originalMessage=this.settings.messages[i.name].remote,this.settings.messages[i.name].remote=o.message,n="string"==typeof n&&{url:n}||n,o.old===e?o.valid:(o.old=e,a=this,this.startRequest(i),s={},s[i.name]=e,t.ajax(t.extend(!0,{url:n,mode:"abort",port:"validate"+i.name,dataType:"json",data:s,context:a.currentForm,success:function(n){var s,r,l,d=n===!0||"true"===n;a.settings.messages[i.name].remote=o.originalMessage,d?(l=a.formSubmitted,a.prepareElement(i),a.formSubmitted=l,a.successList.push(i),delete a.invalid[i.name],a.showErrors()):(s={},r=n||a.defaultMessage(i,"remote"),s[i.name]=o.message=t.isFunction(r)?r(e):r,a.invalid[i.name]=!0,a.showErrors(s)),o.valid=d,a.stopRequest(i,d)}},n)),"pending")}}}),t.format=function(){throw"$.format has been deprecated. Please use $.validator.format instead."};var e,i={};t.ajaxPrefilter?t.ajaxPrefilter(function(t,e,n){var a=t.port;"abort"===t.mode&&(i[a]&&i[a].abort(),i[a]=n)}):(e=t.ajax,t.ajax=function(n){var a=("mode"in n?n:t.ajaxSettings).mode,s=("port"in n?n:t.ajaxSettings).port;return"abort"===a?(i[s]&&i[s].abort(),i[s]=e.apply(this,arguments),i[s]):e.apply(this,arguments)}),t.extend(t.fn,{validateDelegate:function(e,i,n){return this.bind(i,function(i){var a=t(i.target);return a.is(e)?n.apply(a,arguments):void 0})}})}),!function(){"use strict";function t(n){if(!n)throw new Error("No options passed to Waypoint constructor");if(!n.element)throw new Error("No element option passed to Waypoint constructor");if(!n.handler)throw new Error("No handler option passed to Waypoint constructor");this.key="waypoint-"+e,this.options=t.Adapter.extend({},t.defaults,n),this.element=this.options.element,this.adapter=new t.Adapter(this.element),this.callback=n.handler,this.axis=this.options.horizontal?"horizontal":"vertical",this.enabled=this.options.enabled,this.triggerPoint=null,this.group=t.Group.findOrCreate({name:this.options.group,axis:this.axis}),this.context=t.Context.findOrCreateByElement(this.options.context),t.offsetAliases[this.options.offset]&&(this.options.offset=t.offsetAliases[this.options.offset]),this.group.add(this),this.context.add(this),i[this.key]=this,e+=1}var e=0,i={};t.prototype.queueTrigger=function(t){this.group.queueTrigger(this,t)},t.prototype.trigger=function(t){this.enabled&&this.callback&&this.callback.apply(this,t)},t.prototype.destroy=function(){this.context.remove(this),this.group.remove(this),delete i[this.key]},t.prototype.disable=function(){return this.enabled=!1,this},t.prototype.enable=function(){return this.context.refresh(),this.enabled=!0,this},t.prototype.next=function(){return this.group.next(this)},t.prototype.previous=function(){return this.group.previous(this)},t.invokeAll=function(t){var e=[];for(var n in i)e.push(i[n]);for(var a=0,s=e.length;s>a;a++)e[a][t]()},t.destroyAll=function(){t.invokeAll("destroy")},t.disableAll=function(){t.invokeAll("disable")},t.enableAll=function(){t.invokeAll("enable")},t.refreshAll=function(){t.Context.refreshAll()},t.viewportHeight=function(){return window.innerHeight||document.documentElement.clientHeight},t.viewportWidth=function(){return document.documentElement.clientWidth},t.adapters=[],t.defaults={context:window,continuous:!0,enabled:!0,group:"default",horizontal:!1,offset:0},t.offsetAliases={"bottom-in-view":function(){return this.context.innerHeight()-this.adapter.outerHeight()},"right-in-view":function(){return this.context.innerWidth()-this.adapter.outerWidth()}},window.Waypoint=t}(),function(){"use strict";function t(t){window.setTimeout(t,1e3/60)}function e(t){this.element=t,this.Adapter=a.Adapter,this.adapter=new this.Adapter(t),this.key="waypoint-context-"+i,this.didScroll=!1,this.didResize=!1,this.oldScroll={x:this.adapter.scrollLeft(),y:this.adapter.scrollTop()},this.waypoints={vertical:{},horizontal:{}},t.waypointContextKey=this.key,n[t.waypointContextKey]=this,i+=1,this.createThrottledScrollHandler(),this.createThrottledResizeHandler()}var i=0,n={},a=window.Waypoint,s=window.onload;e.prototype.add=function(t){var e=t.options.horizontal?"horizontal":"vertical";this.waypoints[e][t.key]=t,this.refresh()},e.prototype.checkEmpty=function(){var t=this.Adapter.isEmptyObject(this.waypoints.horizontal),e=this.Adapter.isEmptyObject(this.waypoints.vertical);t&&e&&(this.adapter.off(".waypoints"),delete n[this.key])},e.prototype.createThrottledResizeHandler=function(){function t(){e.handleResize(),e.didResize=!1}var e=this;this.adapter.on("resize.waypoints",function(){e.didResize||(e.didResize=!0,a.requestAnimationFrame(t))})},e.prototype.createThrottledScrollHandler=function(){function t(){e.handleScroll(),e.didScroll=!1}var e=this;this.adapter.on("scroll.waypoints",function(){(!e.didScroll||a.isTouch)&&(e.didScroll=!0,a.requestAnimationFrame(t))})},e.prototype.handleResize=function(){a.Context.refreshAll()},e.prototype.handleScroll=function(){var t={},e={horizontal:{newScroll:this.adapter.scrollLeft(),oldScroll:this.oldScroll.x,forward:"right",backward:"left"},vertical:{newScroll:this.adapter.scrollTop(),oldScroll:this.oldScroll.y,forward:"down",backward:"up"}};for(var i in e){var n=e[i],a=n.newScroll>n.oldScroll,s=a?n.forward:n.backward;for(var o in this.waypoints[i]){var r=this.waypoints[i][o],l=n.oldScroll<r.triggerPoint,d=n.newScroll>=r.triggerPoint,c=l&&d,u=!l&&!d;(c||u)&&(r.queueTrigger(s),t[r.group.id]=r.group)}}for(var h in t)t[h].flushTriggers();this.oldScroll={x:e.horizontal.newScroll,y:e.vertical.newScroll}},e.prototype.innerHeight=function(){return this.element==this.element.window?a.viewportHeight():this.adapter.innerHeight()},e.prototype.remove=function(t){delete this.waypoints[t.axis][t.key],this.checkEmpty()},e.prototype.innerWidth=function(){return this.element==this.element.window?a.viewportWidth():this.adapter.innerWidth()},e.prototype.destroy=function(){var t=[];for(var e in this.waypoints)for(var i in this.waypoints[e])t.push(this.waypoints[e][i]);for(var n=0,a=t.length;a>n;n++)t[n].destroy()},e.prototype.refresh=function(){var t,e=this.element==this.element.window,i=this.adapter.offset(),n={};this.handleScroll(),
t={horizontal:{contextOffset:e?0:i.left,contextScroll:e?0:this.oldScroll.x,contextDimension:this.innerWidth(),oldScroll:this.oldScroll.x,forward:"right",backward:"left",offsetProp:"left"},vertical:{contextOffset:e?0:i.top,contextScroll:e?0:this.oldScroll.y,contextDimension:this.innerHeight(),oldScroll:this.oldScroll.y,forward:"down",backward:"up",offsetProp:"top"}};for(var a in t){var s=t[a];for(var o in this.waypoints[a]){var r,l,d,c,u,h=this.waypoints[a][o],m=h.options.offset,f=h.triggerPoint,p=0,g=null==f;h.element!==h.element.window&&(p=h.adapter.offset()[s.offsetProp]),"function"==typeof m?m=m.apply(h):"string"==typeof m&&(m=parseFloat(m),h.options.offset.indexOf("%")>-1&&(m=Math.ceil(s.contextDimension*m/100))),r=s.contextScroll-s.contextOffset,h.triggerPoint=p+r-m,l=f<s.oldScroll,d=h.triggerPoint>=s.oldScroll,c=l&&d,u=!l&&!d,!g&&c?(h.queueTrigger(s.backward),n[h.group.id]=h.group):!g&&u?(h.queueTrigger(s.forward),n[h.group.id]=h.group):g&&s.oldScroll>=h.triggerPoint&&(h.queueTrigger(s.forward),n[h.group.id]=h.group)}}for(var v in n)n[v].flushTriggers();return this},e.findOrCreateByElement=function(t){return e.findByElement(t)||new e(t)},e.refreshAll=function(){for(var t in n)n[t].refresh()},e.findByElement=function(t){return n[t.waypointContextKey]},window.onload=function(){s&&s(),e.refreshAll()},a.requestAnimationFrame=function(e){var i=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||t;i.call(window,e)},a.Context=e}(),function(){"use strict";function t(t,e){return t.triggerPoint-e.triggerPoint}function e(t,e){return e.triggerPoint-t.triggerPoint}function i(t){this.name=t.name,this.axis=t.axis,this.id=this.name+"-"+this.axis,this.waypoints=[],this.clearTriggerQueues(),n[this.axis][this.name]=this}var n={vertical:{},horizontal:{}},a=window.Waypoint;i.prototype.add=function(t){this.waypoints.push(t)},i.prototype.clearTriggerQueues=function(){this.triggerQueues={up:[],down:[],left:[],right:[]}},i.prototype.flushTriggers=function(){for(var i in this.triggerQueues){var n=this.triggerQueues[i],a="up"===i||"left"===i;n.sort(a?e:t);for(var s=0,o=n.length;o>s;s+=1){var r=n[s];(r.options.continuous||s===n.length-1)&&r.trigger([i])}}this.clearTriggerQueues()},i.prototype.next=function(e){this.waypoints.sort(t);var i=a.Adapter.inArray(e,this.waypoints),n=i===this.waypoints.length-1;return n?null:this.waypoints[i+1]},i.prototype.previous=function(e){this.waypoints.sort(t);var i=a.Adapter.inArray(e,this.waypoints);return i?this.waypoints[i-1]:null},i.prototype.queueTrigger=function(t,e){this.triggerQueues[e].push(t)},i.prototype.remove=function(t){var e=a.Adapter.inArray(t,this.waypoints);e>-1&&this.waypoints.splice(e,1)},i.prototype.first=function(){return this.waypoints[0]},i.prototype.last=function(){return this.waypoints[this.waypoints.length-1]},i.findOrCreate=function(t){return n[t.axis][t.name]||new i(t)},a.Group=i}(),function(){"use strict";function t(t){this.$element=e(t)}var e=window.jQuery,i=window.Waypoint;e.each(["innerHeight","innerWidth","off","offset","on","outerHeight","outerWidth","scrollLeft","scrollTop"],function(e,i){t.prototype[i]=function(){var t=Array.prototype.slice.call(arguments);return this.$element[i].apply(this.$element,t)}}),e.each(["extend","inArray","isEmptyObject"],function(i,n){t[n]=e[n]}),i.adapters.push({name:"jquery",Adapter:t}),i.Adapter=t}(),function(){"use strict";function t(t){return function(){var i=[],n=arguments[0];return t.isFunction(arguments[0])&&(n=t.extend({},arguments[1]),n.handler=arguments[0]),this.each(function(){var a=t.extend({},n,{element:this});"string"==typeof a.context&&(a.context=t(this).closest(a.context)[0]),i.push(new e(a))}),i}}var e=window.Waypoint;window.jQuery&&(window.jQuery.fn.waypoint=t(window.jQuery)),window.Zepto&&(window.Zepto.fn.waypoint=t(window.Zepto))}(),function(t){var e=-1,i=-1,n=function(t){return parseFloat(t)||0},a=function(e){var i=null,a=[];return t(e).each(function(){var e=t(this),s=e.offset().top-n(e.css("margin-top")),o=0<a.length?a[a.length-1]:null;null===o?a.push(e):1>=Math.floor(Math.abs(i-s))?a[a.length-1]=o.add(e):a.push(e),i=s}),a},s=function(e){var i={byRow:!0,property:"height",target:null,remove:!1};return"object"==typeof e?t.extend(i,e):("boolean"==typeof e?i.byRow=e:"remove"===e&&(i.remove=!0),i)},o=t.fn.matchHeight=function(e){if(e=s(e),e.remove){var i=this;return this.css(e.property,""),t.each(o._groups,function(t,e){e.elements=e.elements.not(i)}),this}return 1>=this.length&&!e.target?this:(o._groups.push({elements:this,options:e}),o._apply(this,e),this)};o._groups=[],o._throttle=80,o._maintainScroll=!1,o._beforeUpdate=null,o._afterUpdate=null,o._apply=function(e,i){var r=s(i),l=t(e),d=[l],c=t(window).scrollTop(),u=t("html").outerHeight(!0),h=l.parents().filter(":hidden");return h.each(function(){var e=t(this);e.data("style-cache",e.attr("style"))}),h.css("display","block"),r.byRow&&!r.target&&(l.each(function(){var e=t(this),i="inline-block"===e.css("display")?"inline-block":"block";e.data("style-cache",e.attr("style")),e.css({display:i,"padding-top":"0","padding-bottom":"0","margin-top":"0","margin-bottom":"0","border-top-width":"0","border-bottom-width":"0",height:"100px"})}),d=a(l),l.each(function(){var e=t(this);e.attr("style",e.data("style-cache")||"")})),t.each(d,function(e,i){var a=t(i),s=0;if(r.target)s=r.target.outerHeight(!1);else{if(r.byRow&&1>=a.length)return void a.css(r.property,"");a.each(function(){var e=t(this),i={display:"inline-block"===e.css("display")?"inline-block":"block"};i[r.property]="",e.css(i),e.outerHeight(!1)>s&&(s=e.outerHeight(!1)),e.css("display","")})}a.each(function(){var e=t(this),i=0;r.target&&e.is(r.target)||("border-box"!==e.css("box-sizing")&&(i+=n(e.css("border-top-width"))+n(e.css("border-bottom-width")),i+=n(e.css("padding-top"))+n(e.css("padding-bottom"))),e.css(r.property,s-i))})}),h.each(function(){var e=t(this);e.attr("style",e.data("style-cache")||null)}),o._maintainScroll&&t(window).scrollTop(c/u*t("html").outerHeight(!0)),this},o._applyDataApi=function(){var e={};t("[data-match-height], [data-mh]").each(function(){var i=t(this),n=i.attr("data-mh")||i.attr("data-match-height");e[n]=n in e?e[n].add(i):i}),t.each(e,function(){this.matchHeight(!0)})};var r=function(e){o._beforeUpdate&&o._beforeUpdate(e,o._groups),t.each(o._groups,function(){o._apply(this.elements,this.options)}),o._afterUpdate&&o._afterUpdate(e,o._groups)};o._update=function(n,a){if(a&&"resize"===a.type){var s=t(window).width();if(s===e)return;e=s}n?-1===i&&(i=setTimeout(function(){r(a),i=-1},o._throttle)):r(a)},t(o._applyDataApi),t(window).bind("load",function(t){o._update(!1,t)}),t(window).bind("resize orientationchange",function(t){o._update(!0,t)})}(jQuery),!function(t,e){function i(t,e,i){var n=t.children(),a=!1;t.empty();for(var o=0,r=n.length;r>o;o++){var l=n.eq(o);if(t.append(l),i&&t.append(i),s(t,e)){l.remove(),a=!0;break}i&&i.detach()}return a}function n(e,i,o,r,l){var d=!1,c="a, table, thead, tbody, tfoot, tr, col, colgroup, object, embed, param, ol, ul, dl, blockquote, select, optgroup, option, textarea, script, style",u="script, .dotdotdot-keep";return e.contents().detach().each(function(){var h=this,m=t(h);if("undefined"==typeof h)return!0;if(m.is(u))e.append(m);else{if(d)return!0;e.append(m),!l||m.is(r.after)||m.find(r.after).length||e[e.is(c)?"after":"append"](l),s(o,r)&&(d=3==h.nodeType?a(m,i,o,r,l):n(m,i,o,r,l),d||(m.detach(),d=!0)),d||l&&l.detach()}}),i.addClass("is-truncated"),d}function a(e,i,n,a,r){var c=e[0];if(!c)return!1;var h=d(c),m=-1!==h.indexOf(" ")?" ":"　",f="letter"==a.wrap?"":m,p=h.split(f),g=-1,v=-1,w=0,y=p.length-1;for(a.fallbackToLetter&&0==w&&0==y&&(f="",p=h.split(f),y=p.length-1);y>=w&&(0!=w||0!=y);){var b=Math.floor((w+y)/2);if(b==v)break;v=b,l(c,p.slice(0,v+1).join(f)+a.ellipsis),n.children().each(function(){t(this).toggle().toggle()}),s(n,a)?(y=v,a.fallbackToLetter&&0==w&&0==y&&(f="",p=p[0].split(f),g=-1,v=-1,w=0,y=p.length-1)):(g=v,w=v)}if(-1==g||1==p.length&&0==p[0].length){var _=e.parent();e.detach();var k=r&&r.closest(_).length?r.length:0;_.contents().length>k?c=u(_.contents().eq(-1-k),i):(c=u(_,i,!0),k||_.detach()),c&&(h=o(d(c),a),l(c,h),k&&r&&t(c).parent().append(r))}else h=o(p.slice(0,g+1).join(f),a),l(c,h);return!0}function s(t,e){return t.innerHeight()>e.maxHeight}function o(e,i){for(;t.inArray(e.slice(-1),i.lastCharacter.remove)>-1;)e=e.slice(0,-1);return t.inArray(e.slice(-1),i.lastCharacter.noEllipsis)<0&&(e+=i.ellipsis),e}function r(t){return{width:t.innerWidth(),height:t.innerHeight()}}function l(t,e){t.innerText?t.innerText=e:t.nodeValue?t.nodeValue=e:t.textContent&&(t.textContent=e)}function d(t){return t.innerText?t.innerText:t.nodeValue?t.nodeValue:t.textContent?t.textContent:""}function c(t){do t=t.previousSibling;while(t&&1!==t.nodeType&&3!==t.nodeType);return t}function u(e,i,n){var a,s=e&&e[0];if(s){if(!n){if(3===s.nodeType)return s;if(t.trim(e.text()))return u(e.contents().last(),i)}for(a=c(s);!a;){if(e=e.parent(),e.is(i)||!e.length)return!1;a=c(e[0])}if(a)return u(t(a),i)}return!1}function h(e,i){return!!e&&("string"==typeof e?(e=t(e,i),!!e.length&&e):!!e.jquery&&e)}function m(t){for(var e=t.innerHeight(),i=["paddingTop","paddingBottom"],n=0,a=i.length;a>n;n++){var s=parseInt(t.css(i[n]),10);isNaN(s)&&(s=0),e-=s}return e}if(!t.fn.dotdotdot){t.fn.dotdotdot=function(e){if(0==this.length)return t.fn.dotdotdot.debug('No element found for "'+this.selector+'".'),this;if(this.length>1)return this.each(function(){t(this).dotdotdot(e)});var a=this;a.data("dotdotdot")&&a.trigger("destroy.dot"),a.data("dotdotdot-style",a.attr("style")||""),a.css("word-wrap","break-word"),"nowrap"===a.css("white-space")&&a.css("white-space","normal"),a.bind_events=function(){return a.bind("update.dot",function(e,r){switch(a.removeClass("is-truncated"),e.preventDefault(),e.stopPropagation(),typeof l.height){case"number":l.maxHeight=l.height;break;case"function":l.maxHeight=l.height.call(a[0]);break;default:l.maxHeight=m(a)}l.maxHeight+=l.tolerance,"undefined"!=typeof r&&(("string"==typeof r||"nodeType"in r&&1===r.nodeType)&&(r=t("<div />").append(r).contents()),r instanceof t&&(o=r)),p=a.wrapInner('<div class="dotdotdot" />').children(),p.contents().detach().end().append(o.clone(!0)).find("br").replaceWith("  <br />  ").end().css({height:"auto",width:"auto",border:"none",padding:0,margin:0});var c=!1,u=!1;return d.afterElement&&(c=d.afterElement.clone(!0),c.show(),d.afterElement.detach()),s(p,l)&&(u="children"==l.wrap?i(p,l,c):n(p,a,p,l,c)),p.replaceWith(p.contents()),p=null,t.isFunction(l.callback)&&l.callback.call(a[0],u,o),d.isTruncated=u,u}).bind("isTruncated.dot",function(t,e){return t.preventDefault(),t.stopPropagation(),"function"==typeof e&&e.call(a[0],d.isTruncated),d.isTruncated}).bind("originalContent.dot",function(t,e){return t.preventDefault(),t.stopPropagation(),"function"==typeof e&&e.call(a[0],o),o}).bind("destroy.dot",function(t){t.preventDefault(),t.stopPropagation(),a.unwatch().unbind_events().contents().detach().end().append(o).attr("style",a.data("dotdotdot-style")||"").data("dotdotdot",!1)}),a},a.unbind_events=function(){return a.unbind(".dot"),a},a.watch=function(){if(a.unwatch(),"window"==l.watch){var e=t(window),i=e.width(),n=e.height();e.bind("resize.dot"+d.dotId,function(){i==e.width()&&n==e.height()&&l.windowResizeFix||(i=e.width(),n=e.height(),u&&clearInterval(u),u=setTimeout(function(){a.trigger("update.dot")},100))})}else c=r(a),u=setInterval(function(){if(a.is(":visible")){var t=r(a);(c.width!=t.width||c.height!=t.height)&&(a.trigger("update.dot"),c=t)}},500);return a},a.unwatch=function(){return t(window).unbind("resize.dot"+d.dotId),u&&clearInterval(u),a};var o=a.contents(),l=t.extend(!0,{},t.fn.dotdotdot.defaults,e),d={},c={},u=null,p=null;return l.lastCharacter.remove instanceof Array||(l.lastCharacter.remove=t.fn.dotdotdot.defaultArrays.lastCharacter.remove),l.lastCharacter.noEllipsis instanceof Array||(l.lastCharacter.noEllipsis=t.fn.dotdotdot.defaultArrays.lastCharacter.noEllipsis),d.afterElement=h(l.after,a),d.isTruncated=!1,d.dotId=f++,a.data("dotdotdot",!0).bind_events().trigger("update.dot"),l.watch&&a.watch(),a},t.fn.dotdotdot.defaults={ellipsis:"... ",wrap:"word",fallbackToLetter:!0,lastCharacter:{},tolerance:0,callback:null,after:null,height:null,watch:!1,windowResizeFix:!0},t.fn.dotdotdot.defaultArrays={lastCharacter:{remove:[" ","　",",",";",".","!","?"],noEllipsis:[]}},t.fn.dotdotdot.debug=function(){};var f=1,p=t.fn.html;t.fn.html=function(i){return i!=e&&!t.isFunction(i)&&this.data("dotdotdot")?this.trigger("update",[i]):p.apply(this,arguments)};var g=t.fn.text;t.fn.text=function(i){return i!=e&&!t.isFunction(i)&&this.data("dotdotdot")?(i=t("<div />").text(i).html(),this.trigger("update",[i])):g.apply(this,arguments)}}}(jQuery),function(t){function e(t,e,i){switch(arguments.length){case 2:return null!=t?t:e;case 3:return null!=t?t:null!=e?e:i;default:throw new Error("Implement me")}}function i(t,e){return Dt.call(t,e)}function n(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1}}function a(t){_t.suppressDeprecationWarnings===!1&&"undefined"!=typeof console&&console.warn&&void 0}function s(t,e){var i=!0;return f(function(){return i&&(a(t),i=!1),e.apply(this,arguments)},e)}function o(t,e){we[t]||(a(e),we[t]=!0)}function r(t,e){return function(i){return v(t.call(this,i),e)}}function l(t,e){return function(i){return this.localeData().ordinal(t.call(this,i),e)}}function d(t,e){var i,n,a=12*(e.year()-t.year())+(e.month()-t.month()),s=t.clone().add(a,"months");return 0>e-s?(i=t.clone().add(a-1,"months"),n=(e-s)/(s-i)):(i=t.clone().add(a+1,"months"),n=(e-s)/(i-s)),-(a+n)}function c(t,e,i){var n;return null==i?e:null!=t.meridiemHour?t.meridiemHour(e,i):null!=t.isPM?(n=t.isPM(i),n&&12>e&&(e+=12),n||12!==e||(e=0),e):e}function u(){}function h(t,e){e!==!1&&E(t),p(this,t),this._d=new Date((+t._d)),be===!1&&(be=!0,_t.updateOffset(this),be=!1)}function m(t){var e=T(t),i=e.year||0,n=e.quarter||0,a=e.month||0,s=e.week||0,o=e.day||0,r=e.hour||0,l=e.minute||0,d=e.second||0,c=e.millisecond||0;this._milliseconds=+c+1e3*d+6e4*l+36e5*r,this._days=+o+7*s,this._months=+a+3*n+12*i,this._data={},this._locale=_t.localeData(),this._bubble()}function f(t,e){for(var n in e)i(e,n)&&(t[n]=e[n]);return i(e,"toString")&&(t.toString=e.toString),i(e,"valueOf")&&(t.valueOf=e.valueOf),t}function p(t,e){var i,n,a;if("undefined"!=typeof e._isAMomentObject&&(t._isAMomentObject=e._isAMomentObject),"undefined"!=typeof e._i&&(t._i=e._i),"undefined"!=typeof e._f&&(t._f=e._f),"undefined"!=typeof e._l&&(t._l=e._l),"undefined"!=typeof e._strict&&(t._strict=e._strict),"undefined"!=typeof e._tzm&&(t._tzm=e._tzm),"undefined"!=typeof e._isUTC&&(t._isUTC=e._isUTC),"undefined"!=typeof e._offset&&(t._offset=e._offset),"undefined"!=typeof e._pf&&(t._pf=e._pf),"undefined"!=typeof e._locale&&(t._locale=e._locale),Rt.length>0)for(i in Rt)n=Rt[i],a=e[n],"undefined"!=typeof a&&(t[n]=a);return t}function g(t){return 0>t?Math.ceil(t):Math.floor(t)}function v(t,e,i){for(var n=""+Math.abs(t),a=t>=0;n.length<e;)n="0"+n;return(a?i?"+":"":"-")+n}function w(t,e){var i={milliseconds:0,months:0};return i.months=e.month()-t.month()+12*(e.year()-t.year()),t.clone().add(i.months,"M").isAfter(e)&&--i.months,i.milliseconds=+e-+t.clone().add(i.months,"M"),i}function y(t,e){var i;return e=H(e,t),t.isBefore(e)?i=w(t,e):(i=w(e,t),i.milliseconds=-i.milliseconds,i.months=-i.months),i}function b(t,e){return function(i,n){var a,s;return null===n||isNaN(+n)||(o(e,"moment()."+e+"(period, number) is deprecated. Please use moment()."+e+"(number, period)."),s=i,i=n,n=s),i="string"==typeof i?+i:i,a=_t.duration(i,n),_(this,a,t),this}}function _(t,e,i,n){var a=e._milliseconds,s=e._days,o=e._months;n=null==n||n,a&&t._d.setTime(+t._d+a*i),s&&pt(t,"Date",ft(t,"Date")+s*i),o&&mt(t,ft(t,"Month")+o*i),n&&_t.updateOffset(t,s||o)}function k(t){return"[object Array]"===Object.prototype.toString.call(t)}function C(t){return"[object Date]"===Object.prototype.toString.call(t)||t instanceof Date}function S(t,e,i){var n,a=Math.min(t.length,e.length),s=Math.abs(t.length-e.length),o=0;for(n=0;a>n;n++)(i&&t[n]!==e[n]||!i&&$(t[n])!==$(e[n]))&&o++;return o+s}function x(t){if(t){var e=t.toLowerCase().replace(/(.)s$/,"$1");t=ue[t]||he[e]||e}return t}function T(t){var e,n,a={};for(n in t)i(t,n)&&(e=x(n),e&&(a[e]=t[n]));return a}function D(e){var i,n;if(0===e.indexOf("week"))i=7,n="day";else{if(0!==e.indexOf("month"))return;i=12,n="month"}_t[e]=function(a,s){var o,r,l=_t._locale[e],d=[];if("number"==typeof a&&(s=a,a=t),r=function(t){var e=_t().utc().set(n,t);return l.call(_t._locale,e,a||"")},null!=s)return r(s);for(o=0;i>o;o++)d.push(r(o));return d}}function $(t){var e=+t,i=0;return 0!==e&&isFinite(e)&&(i=e>=0?Math.floor(e):Math.ceil(e)),i}function A(t,e){return new Date(Date.UTC(t,e+1,0)).getUTCDate()}function M(t,e,i){return dt(_t([t,11,31+e-i]),e,i).week}function F(t){return L(t)?366:365}function L(t){return t%4===0&&t%100!==0||t%400===0}function E(t){var e;t._a&&-2===t._pf.overflow&&(e=t._a[At]<0||t._a[At]>11?At:t._a[Mt]<1||t._a[Mt]>A(t._a[$t],t._a[At])?Mt:t._a[Ft]<0||t._a[Ft]>24||24===t._a[Ft]&&(0!==t._a[Lt]||0!==t._a[Et]||0!==t._a[Pt])?Ft:t._a[Lt]<0||t._a[Lt]>59?Lt:t._a[Et]<0||t._a[Et]>59?Et:t._a[Pt]<0||t._a[Pt]>999?Pt:-1,t._pf._overflowDayOfYear&&($t>e||e>Mt)&&(e=Mt),t._pf.overflow=e)}function P(e){return null==e._isValid&&(e._isValid=!isNaN(e._d.getTime())&&e._pf.overflow<0&&!e._pf.empty&&!e._pf.invalidMonth&&!e._pf.nullInput&&!e._pf.invalidFormat&&!e._pf.userInvalidated,e._strict&&(e._isValid=e._isValid&&0===e._pf.charsLeftOver&&0===e._pf.unusedTokens.length&&e._pf.bigHour===t)),e._isValid}function O(t){return t?t.toLowerCase().replace("_","-"):t}function R(t){for(var e,i,n,a,s=0;s<t.length;){for(a=O(t[s]).split("-"),e=a.length,i=O(t[s+1]),i=i?i.split("-"):null;e>0;){if(n=N(a.slice(0,e).join("-")))return n;if(i&&i.length>=e&&S(a,i,!0)>=e-1)break;e--}s++}return null}function N(t){var e=null;if(!Ot[t]&&Nt)try{e=_t.locale(),require("./locale/"+t),_t.locale(e)}catch(i){}return Ot[t]}function H(t,e){var i,n;return e._isUTC?(i=e.clone(),n=(_t.isMoment(t)||C(t)?+t:+_t(t))-+i,i._d.setTime(+i._d+n),_t.updateOffset(i,!1),i):_t(t).local()}function j(t){return t.match(/\[[\s\S]/)?t.replace(/^\[|\]$/g,""):t.replace(/\\/g,"")}function I(t){var e,i,n=t.match(Wt);for(e=0,i=n.length;i>e;e++)n[e]=ve[n[e]]?ve[n[e]]:j(n[e]);return function(a){var s="";for(e=0;i>e;e++)s+=n[e]instanceof Function?n[e].call(a,t):n[e];return s}}function W(t,e){return t.isValid()?(e=Y(e,t.localeData()),me[e]||(me[e]=I(e)),me[e](t)):t.localeData().invalidDate()}function Y(t,e){function i(t){return e.longDateFormat(t)||t}var n=5;for(Yt.lastIndex=0;n>=0&&Yt.test(t);)t=t.replace(Yt,i),Yt.lastIndex=0,n-=1;return t}function U(t,e){var i,n=e._strict;switch(t){case"Q":return Xt;case"DDDD":return ee;case"YYYY":case"GGGG":case"gggg":return n?ie:Bt;case"Y":case"G":case"g":return ae;case"YYYYYY":case"YYYYY":case"GGGGG":case"ggggg":return n?ne:zt;case"S":if(n)return Xt;case"SS":if(n)return te;case"SSS":if(n)return ee;case"DDD":return Vt;case"MMM":case"MMMM":case"dd":case"ddd":case"dddd":return Gt;case"a":case"A":return e._locale._meridiemParse;case"x":return Kt;case"X":return Jt;case"Z":case"ZZ":return Qt;case"T":return Zt;case"SSSS":return qt;case"MM":case"DD":case"YY":case"GG":case"gg":case"HH":case"hh":case"mm":case"ss":case"ww":case"WW":return n?te:Ut;case"M":case"D":case"d":case"H":case"h":case"m":case"s":case"w":case"W":case"e":case"E":return Ut;case"Do":return n?e._locale._ordinalParse:e._locale._ordinalParseLenient;default:return i=new RegExp(J(K(t.replace("\\","")),"i"))}}function V(t){t=t||"";var e=t.match(Qt)||[],i=e[e.length-1]||[],n=(i+"").match(de)||["-",0,0],a=+(60*n[1])+$(n[2]);return"+"===n[0]?a:-a}function B(t,e,i){var n,a=i._a;switch(t){case"Q":null!=e&&(a[At]=3*($(e)-1));break;case"M":case"MM":null!=e&&(a[At]=$(e)-1);break;case"MMM":case"MMMM":n=i._locale.monthsParse(e,t,i._strict),null!=n?a[At]=n:i._pf.invalidMonth=e;break;case"D":case"DD":null!=e&&(a[Mt]=$(e));break;case"Do":null!=e&&(a[Mt]=$(parseInt(e.match(/\d{1,2}/)[0],10)));break;case"DDD":case"DDDD":null!=e&&(i._dayOfYear=$(e));break;case"YY":a[$t]=_t.parseTwoDigitYear(e);break;case"YYYY":case"YYYYY":case"YYYYYY":a[$t]=$(e);break;case"a":case"A":i._meridiem=e;break;case"h":case"hh":i._pf.bigHour=!0;case"H":case"HH":a[Ft]=$(e);break;case"m":case"mm":a[Lt]=$(e);break;case"s":case"ss":a[Et]=$(e);break;case"S":case"SS":case"SSS":case"SSSS":a[Pt]=$(1e3*("0."+e));break;case"x":i._d=new Date($(e));break;case"X":i._d=new Date(1e3*parseFloat(e));break;case"Z":case"ZZ":i._useUTC=!0,i._tzm=V(e);break;case"dd":case"ddd":case"dddd":n=i._locale.weekdaysParse(e),null!=n?(i._w=i._w||{},i._w.d=n):i._pf.invalidWeekday=e;break;case"w":case"ww":case"W":case"WW":case"d":case"e":case"E":t=t.substr(0,1);case"gggg":case"GGGG":case"GGGGG":t=t.substr(0,2),e&&(i._w=i._w||{},i._w[t]=$(e));break;case"gg":case"GG":i._w=i._w||{},i._w[t]=_t.parseTwoDigitYear(e)}}function z(t){var i,n,a,s,o,r,l;i=t._w,null!=i.GG||null!=i.W||null!=i.E?(o=1,r=4,n=e(i.GG,t._a[$t],dt(_t(),1,4).year),a=e(i.W,1),s=e(i.E,1)):(o=t._locale._week.dow,r=t._locale._week.doy,n=e(i.gg,t._a[$t],dt(_t(),o,r).year),a=e(i.w,1),null!=i.d?(s=i.d,o>s&&++a):s=null!=i.e?i.e+o:o),l=ct(n,a,s,r,o),t._a[$t]=l.year,t._dayOfYear=l.dayOfYear}function q(t){var i,n,a,s,o=[];if(!t._d){for(a=Q(t),t._w&&null==t._a[Mt]&&null==t._a[At]&&z(t),t._dayOfYear&&(s=e(t._a[$t],a[$t]),t._dayOfYear>F(s)&&(t._pf._overflowDayOfYear=!0),n=st(s,0,t._dayOfYear),t._a[At]=n.getUTCMonth(),t._a[Mt]=n.getUTCDate()),i=0;3>i&&null==t._a[i];++i)t._a[i]=o[i]=a[i];for(;7>i;i++)t._a[i]=o[i]=null==t._a[i]?2===i?1:0:t._a[i];24===t._a[Ft]&&0===t._a[Lt]&&0===t._a[Et]&&0===t._a[Pt]&&(t._nextDay=!0,t._a[Ft]=0),t._d=(t._useUTC?st:at).apply(null,o),null!=t._tzm&&t._d.setUTCMinutes(t._d.getUTCMinutes()-t._tzm),t._nextDay&&(t._a[Ft]=24)}}function G(t){var e;t._d||(e=T(t._i),t._a=[e.year,e.month,e.day||e.date,e.hour,e.minute,e.second,e.millisecond],q(t))}function Q(t){var e=new Date;return t._useUTC?[e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate()]:[e.getFullYear(),e.getMonth(),e.getDate()]}function Z(e){if(e._f===_t.ISO_8601)return void tt(e);e._a=[],e._pf.empty=!0;var i,n,a,s,o,r=""+e._i,l=r.length,d=0;for(a=Y(e._f,e._locale).match(Wt)||[],i=0;i<a.length;i++)s=a[i],n=(r.match(U(s,e))||[])[0],n&&(o=r.substr(0,r.indexOf(n)),o.length>0&&e._pf.unusedInput.push(o),r=r.slice(r.indexOf(n)+n.length),d+=n.length),ve[s]?(n?e._pf.empty=!1:e._pf.unusedTokens.push(s),B(s,n,e)):e._strict&&!n&&e._pf.unusedTokens.push(s);e._pf.charsLeftOver=l-d,r.length>0&&e._pf.unusedInput.push(r),e._pf.bigHour===!0&&e._a[Ft]<=12&&(e._pf.bigHour=t),e._a[Ft]=c(e._locale,e._a[Ft],e._meridiem),q(e),E(e)}function K(t){return t.replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(t,e,i,n,a){return e||i||n||a})}function J(t){return t.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function X(t){var e,i,a,s,o;if(0===t._f.length)return t._pf.invalidFormat=!0,void(t._d=new Date(NaN));for(s=0;s<t._f.length;s++)o=0,e=p({},t),null!=t._useUTC&&(e._useUTC=t._useUTC),e._pf=n(),e._f=t._f[s],Z(e),P(e)&&(o+=e._pf.charsLeftOver,o+=10*e._pf.unusedTokens.length,e._pf.score=o,(null==a||a>o)&&(a=o,i=e));f(t,i||e)}function tt(t){var e,i,n=t._i,a=se.exec(n);if(a){for(t._pf.iso=!0,e=0,i=re.length;i>e;e++)if(re[e][1].exec(n)){t._f=re[e][0]+(a[6]||" ");break}for(e=0,i=le.length;i>e;e++)if(le[e][1].exec(n)){t._f+=le[e][0];break}n.match(Qt)&&(t._f+="Z"),Z(t)}else t._isValid=!1}function et(t){tt(t),t._isValid===!1&&(delete t._isValid,_t.createFromInputFallback(t))}function it(t,e){var i,n=[];for(i=0;i<t.length;++i)n.push(e(t[i],i));return n}function nt(e){var i,n=e._i;n===t?e._d=new Date:C(n)?e._d=new Date((+n)):null!==(i=Ht.exec(n))?e._d=new Date((+i[1])):"string"==typeof n?et(e):k(n)?(e._a=it(n.slice(0),function(t){return parseInt(t,10)}),q(e)):"object"==typeof n?G(e):"number"==typeof n?e._d=new Date(n):_t.createFromInputFallback(e)}function at(t,e,i,n,a,s,o){var r=new Date(t,e,i,n,a,s,o);return 1970>t&&r.setFullYear(t),r}function st(t){var e=new Date(Date.UTC.apply(null,arguments));return 1970>t&&e.setUTCFullYear(t),e}function ot(t,e){if("string"==typeof t)if(isNaN(t)){if(t=e.weekdaysParse(t),"number"!=typeof t)return null}else t=parseInt(t,10);return t}function rt(t,e,i,n,a){return a.relativeTime(e||1,!!i,t,n)}function lt(t,e,i){var n=_t.duration(t).abs(),a=Tt(n.as("s")),s=Tt(n.as("m")),o=Tt(n.as("h")),r=Tt(n.as("d")),l=Tt(n.as("M")),d=Tt(n.as("y")),c=a<fe.s&&["s",a]||1===s&&["m"]||s<fe.m&&["mm",s]||1===o&&["h"]||o<fe.h&&["hh",o]||1===r&&["d"]||r<fe.d&&["dd",r]||1===l&&["M"]||l<fe.M&&["MM",l]||1===d&&["y"]||["yy",d];return c[2]=e,c[3]=+t>0,c[4]=i,rt.apply({},c)}function dt(t,e,i){var n,a=i-e,s=i-t.day();return s>a&&(s-=7),a-7>s&&(s+=7),n=_t(t).add(s,"d"),{week:Math.ceil(n.dayOfYear()/7),year:n.year()}}function ct(t,e,i,n,a){var s,o,r=st(t,0,1).getUTCDay();return r=0===r?7:r,i=null!=i?i:a,s=a-r+(r>n?7:0)-(a>r?7:0),o=7*(e-1)+(i-a)+s+1,{year:o>0?t:t-1,dayOfYear:o>0?o:F(t-1)+o}}function ut(e){var i,n=e._i,a=e._f;return e._locale=e._locale||_t.localeData(e._l),null===n||a===t&&""===n?_t.invalid({nullInput:!0}):("string"==typeof n&&(e._i=n=e._locale.preparse(n)),_t.isMoment(n)?new h(n,(!0)):(a?k(a)?X(e):Z(e):nt(e),i=new h(e),i._nextDay&&(i.add(1,"d"),i._nextDay=t),i))}function ht(t,e){var i,n;if(1===e.length&&k(e[0])&&(e=e[0]),!e.length)return _t();for(i=e[0],n=1;n<e.length;++n)e[n][t](i)&&(i=e[n]);return i}function mt(t,e){var i;return"string"==typeof e&&(e=t.localeData().monthsParse(e),"number"!=typeof e)?t:(i=Math.min(t.date(),A(t.year(),e)),t._d["set"+(t._isUTC?"UTC":"")+"Month"](e,i),t)}function ft(t,e){return t._d["get"+(t._isUTC?"UTC":"")+e]()}function pt(t,e,i){return"Month"===e?mt(t,i):t._d["set"+(t._isUTC?"UTC":"")+e](i)}function gt(t,e){return function(i){return null!=i?(pt(this,t,i),_t.updateOffset(this,e),this):ft(this,t)}}function vt(t){return 400*t/146097}function wt(t){return 146097*t/400}function yt(t){_t.duration.fn[t]=function(){return this._data[t]}}function bt(t){"undefined"==typeof ender&&(kt=xt.moment,xt.moment=t?s("Accessing Moment through the global scope is deprecated, and will be removed in an upcoming release.",_t):_t)}for(var _t,kt,Ct,St="2.9.0",xt="undefined"==typeof global||"undefined"!=typeof window&&window!==global.window?this:global,Tt=Math.round,Dt=Object.prototype.hasOwnProperty,$t=0,At=1,Mt=2,Ft=3,Lt=4,Et=5,Pt=6,Ot={},Rt=[],Nt="undefined"!=typeof module&&module&&module.exports,Ht=/^\/?Date\((\-?\d+)/i,jt=/(\-)?(?:(\d*)\.)?(\d+)\:(\d+)(?:\:(\d+)\.?(\d{3})?)?/,It=/^(-)?P(?:(?:([0-9,.]*)Y)?(?:([0-9,.]*)M)?(?:([0-9,.]*)D)?(?:T(?:([0-9,.]*)H)?(?:([0-9,.]*)M)?(?:([0-9,.]*)S)?)?|([0-9,.]*)W)$/,Wt=/(\[[^\[]*\])|(\\)?(Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Q|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|mm?|ss?|S{1,4}|x|X|zz?|ZZ?|.)/g,Yt=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,Ut=/\d\d?/,Vt=/\d{1,3}/,Bt=/\d{1,4}/,zt=/[+\-]?\d{1,6}/,qt=/\d+/,Gt=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,Qt=/Z|[\+\-]\d\d:?\d\d/gi,Zt=/T/i,Kt=/[\+\-]?\d+/,Jt=/[\+\-]?\d+(\.\d{1,3})?/,Xt=/\d/,te=/\d\d/,ee=/\d{3}/,ie=/\d{4}/,ne=/[+-]?\d{6}/,ae=/[+-]?\d+/,se=/^\s*(?:[+-]\d{6}|\d{4})-(?:(\d\d-\d\d)|(W\d\d$)|(W\d\d-\d)|(\d\d\d))((T| )(\d\d(:\d\d(:\d\d(\.\d+)?)?)?)?([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,oe="YYYY-MM-DDTHH:mm:ssZ",re=[["YYYYYY-MM-DD",/[+-]\d{6}-\d{2}-\d{2}/],["YYYY-MM-DD",/\d{4}-\d{2}-\d{2}/],["GGGG-[W]WW-E",/\d{4}-W\d{2}-\d/],["GGGG-[W]WW",/\d{4}-W\d{2}/],["YYYY-DDD",/\d{4}-\d{3}/]],le=[["HH:mm:ss.SSSS",/(T| )\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss",/(T| )\d\d:\d\d:\d\d/],["HH:mm",/(T| )\d\d:\d\d/],["HH",/(T| )\d\d/]],de=/([\+\-]|\d\d)/gi,ce=("Date|Hours|Minutes|Seconds|Milliseconds".split("|"),{Milliseconds:1,Seconds:1e3,Minutes:6e4,Hours:36e5,Days:864e5,Months:2592e6,Years:31536e6}),ue={ms:"millisecond",s:"second",m:"minute",h:"hour",d:"day",D:"date",w:"week",W:"isoWeek",M:"month",Q:"quarter",y:"year",DDD:"dayOfYear",e:"weekday",E:"isoWeekday",gg:"weekYear",GG:"isoWeekYear"},he={dayofyear:"dayOfYear",isoweekday:"isoWeekday",isoweek:"isoWeek",weekyear:"weekYear",isoweekyear:"isoWeekYear"},me={},fe={s:45,m:45,h:22,d:26,M:11},pe="DDD w W M D d".split(" "),ge="M D H h m s w W".split(" "),ve={M:function(){return this.month()+1},MMM:function(t){return this.localeData().monthsShort(this,t)},MMMM:function(t){return this.localeData().months(this,t)},D:function(){return this.date()},DDD:function(){return this.dayOfYear()},d:function(){return this.day()},dd:function(t){return this.localeData().weekdaysMin(this,t)},ddd:function(t){return this.localeData().weekdaysShort(this,t)},dddd:function(t){return this.localeData().weekdays(this,t)},w:function(){return this.week()},W:function(){return this.isoWeek()},YY:function(){return v(this.year()%100,2)},YYYY:function(){return v(this.year(),4)},YYYYY:function(){return v(this.year(),5)},YYYYYY:function(){var t=this.year(),e=t>=0?"+":"-";return e+v(Math.abs(t),6)},gg:function(){return v(this.weekYear()%100,2)},gggg:function(){return v(this.weekYear(),4)},ggggg:function(){return v(this.weekYear(),5)},GG:function(){return v(this.isoWeekYear()%100,2)},GGGG:function(){return v(this.isoWeekYear(),4)},GGGGG:function(){return v(this.isoWeekYear(),5)},e:function(){return this.weekday()},E:function(){return this.isoWeekday()},a:function(){return this.localeData().meridiem(this.hours(),this.minutes(),!0)},A:function(){return this.localeData().meridiem(this.hours(),this.minutes(),!1)},H:function(){return this.hours()},h:function(){return this.hours()%12||12},m:function(){return this.minutes()},s:function(){return this.seconds()},S:function(){return $(this.milliseconds()/100)},SS:function(){return v($(this.milliseconds()/10),2)},SSS:function(){return v(this.milliseconds(),3)},SSSS:function(){return v(this.milliseconds(),3)},Z:function(){var t=this.utcOffset(),e="+";return 0>t&&(t=-t,e="-"),e+v($(t/60),2)+":"+v($(t)%60,2)},ZZ:function(){var t=this.utcOffset(),e="+";return 0>t&&(t=-t,e="-"),e+v($(t/60),2)+v($(t)%60,2)},z:function(){return this.zoneAbbr()},zz:function(){return this.zoneName()},x:function(){return this.valueOf()},X:function(){return this.unix()},Q:function(){return this.quarter()}},we={},ye=["months","monthsShort","weekdays","weekdaysShort","weekdaysMin"],be=!1;pe.length;)Ct=pe.pop(),ve[Ct+"o"]=l(ve[Ct],Ct);for(;ge.length;)Ct=ge.pop(),ve[Ct+Ct]=r(ve[Ct],2);ve.DDDD=r(ve.DDD,3),f(u.prototype,{set:function(t){var e,i;for(i in t)e=t[i],"function"==typeof e?this[i]=e:this["_"+i]=e;this._ordinalParseLenient=new RegExp(this._ordinalParse.source+"|"+/\d{1,2}/.source)},_months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),months:function(t){return this._months[t.month()]},_monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),monthsShort:function(t){return this._monthsShort[t.month()]},monthsParse:function(t,e,i){var n,a,s;for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),n=0;12>n;n++){if(a=_t.utc([2e3,n]),i&&!this._longMonthsParse[n]&&(this._longMonthsParse[n]=new RegExp("^"+this.months(a,"").replace(".","")+"$","i"),this._shortMonthsParse[n]=new RegExp("^"+this.monthsShort(a,"").replace(".","")+"$","i")),i||this._monthsParse[n]||(s="^"+this.months(a,"")+"|^"+this.monthsShort(a,""),this._monthsParse[n]=new RegExp(s.replace(".",""),"i")),i&&"MMMM"===e&&this._longMonthsParse[n].test(t))return n;if(i&&"MMM"===e&&this._shortMonthsParse[n].test(t))return n;if(!i&&this._monthsParse[n].test(t))return n}},_weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdays:function(t){return this._weekdays[t.day()]},_weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysShort:function(t){return this._weekdaysShort[t.day()]},_weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),
weekdaysMin:function(t){return this._weekdaysMin[t.day()]},weekdaysParse:function(t){var e,i,n;for(this._weekdaysParse||(this._weekdaysParse=[]),e=0;7>e;e++)if(this._weekdaysParse[e]||(i=_t([2e3,1]).day(e),n="^"+this.weekdays(i,"")+"|^"+this.weekdaysShort(i,"")+"|^"+this.weekdaysMin(i,""),this._weekdaysParse[e]=new RegExp(n.replace(".",""),"i")),this._weekdaysParse[e].test(t))return e},_longDateFormat:{LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY LT",LLLL:"dddd, MMMM D, YYYY LT"},longDateFormat:function(t){var e=this._longDateFormat[t];return!e&&this._longDateFormat[t.toUpperCase()]&&(e=this._longDateFormat[t.toUpperCase()].replace(/MMMM|MM|DD|dddd/g,function(t){return t.slice(1)}),this._longDateFormat[t]=e),e},isPM:function(t){return"p"===(t+"").toLowerCase().charAt(0)},_meridiemParse:/[ap]\.?m?\.?/i,meridiem:function(t,e,i){return t>11?i?"pm":"PM":i?"am":"AM"},_calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},calendar:function(t,e,i){var n=this._calendar[t];return"function"==typeof n?n.apply(e,[i]):n},_relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},relativeTime:function(t,e,i,n){var a=this._relativeTime[i];return"function"==typeof a?a(t,e,i,n):a.replace(/%d/i,t)},pastFuture:function(t,e){var i=this._relativeTime[t>0?"future":"past"];return"function"==typeof i?i(e):i.replace(/%s/i,e)},ordinal:function(t){return this._ordinal.replace("%d",t)},_ordinal:"%d",_ordinalParse:/\d{1,2}/,preparse:function(t){return t},postformat:function(t){return t},week:function(t){return dt(t,this._week.dow,this._week.doy).week},_week:{dow:0,doy:6},firstDayOfWeek:function(){return this._week.dow},firstDayOfYear:function(){return this._week.doy},_invalidDate:"Invalid date",invalidDate:function(){return this._invalidDate}}),_t=function(e,i,a,s){var o;return"boolean"==typeof a&&(s=a,a=t),o={},o._isAMomentObject=!0,o._i=e,o._f=i,o._l=a,o._strict=s,o._isUTC=!1,o._pf=n(),ut(o)},_t.suppressDeprecationWarnings=!1,_t.createFromInputFallback=s("moment construction falls back to js Date. This is discouraged and will be removed in upcoming major release. Please refer to https://github.com/moment/moment/issues/1407 for more info.",function(t){t._d=new Date(t._i+(t._useUTC?" UTC":""))}),_t.min=function(){var t=[].slice.call(arguments,0);return ht("isBefore",t)},_t.max=function(){var t=[].slice.call(arguments,0);return ht("isAfter",t)},_t.utc=function(e,i,a,s){var o;return"boolean"==typeof a&&(s=a,a=t),o={},o._isAMomentObject=!0,o._useUTC=!0,o._isUTC=!0,o._l=a,o._i=e,o._f=i,o._strict=s,o._pf=n(),ut(o).utc()},_t.unix=function(t){return _t(1e3*t)},_t.duration=function(t,e){var n,a,s,o,r=t,l=null;return _t.isDuration(t)?r={ms:t._milliseconds,d:t._days,M:t._months}:"number"==typeof t?(r={},e?r[e]=t:r.milliseconds=t):(l=jt.exec(t))?(n="-"===l[1]?-1:1,r={y:0,d:$(l[Mt])*n,h:$(l[Ft])*n,m:$(l[Lt])*n,s:$(l[Et])*n,ms:$(l[Pt])*n}):(l=It.exec(t))?(n="-"===l[1]?-1:1,s=function(t){var e=t&&parseFloat(t.replace(",","."));return(isNaN(e)?0:e)*n},r={y:s(l[2]),M:s(l[3]),d:s(l[4]),h:s(l[5]),m:s(l[6]),s:s(l[7]),w:s(l[8])}):null==r?r={}:"object"==typeof r&&("from"in r||"to"in r)&&(o=y(_t(r.from),_t(r.to)),r={},r.ms=o.milliseconds,r.M=o.months),a=new m(r),_t.isDuration(t)&&i(t,"_locale")&&(a._locale=t._locale),a},_t.version=St,_t.defaultFormat=oe,_t.ISO_8601=function(){},_t.momentProperties=Rt,_t.updateOffset=function(){},_t.relativeTimeThreshold=function(e,i){return fe[e]!==t&&(i===t?fe[e]:(fe[e]=i,!0))},_t.lang=s("moment.lang is deprecated. Use moment.locale instead.",function(t,e){return _t.locale(t,e)}),_t.locale=function(t,e){var i;return t&&(i="undefined"!=typeof e?_t.defineLocale(t,e):_t.localeData(t),i&&(_t.duration._locale=_t._locale=i)),_t._locale._abbr},_t.defineLocale=function(t,e){return null!==e?(e.abbr=t,Ot[t]||(Ot[t]=new u),Ot[t].set(e),_t.locale(t),Ot[t]):(delete Ot[t],null)},_t.langData=s("moment.langData is deprecated. Use moment.localeData instead.",function(t){return _t.localeData(t)}),_t.localeData=function(t){var e;if(t&&t._locale&&t._locale._abbr&&(t=t._locale._abbr),!t)return _t._locale;if(!k(t)){if(e=N(t))return e;t=[t]}return R(t)},_t.isMoment=function(t){return t instanceof h||null!=t&&i(t,"_isAMomentObject")},_t.isDuration=function(t){return t instanceof m};for(Ct=ye.length-1;Ct>=0;--Ct)D(ye[Ct]);_t.normalizeUnits=function(t){return x(t)},_t.invalid=function(t){var e=_t.utc(NaN);return null!=t?f(e._pf,t):e._pf.userInvalidated=!0,e},_t.parseZone=function(){return _t.apply(null,arguments).parseZone()},_t.parseTwoDigitYear=function(t){return $(t)+($(t)>68?1900:2e3)},_t.isDate=C,f(_t.fn=h.prototype,{clone:function(){return _t(this)},valueOf:function(){return+this._d-6e4*(this._offset||0)},unix:function(){return Math.floor(+this/1e3)},toString:function(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")},toDate:function(){return this._offset?new Date((+this)):this._d},toISOString:function(){var t=_t(this).utc();return 0<t.year()&&t.year()<=9999?"function"==typeof Date.prototype.toISOString?this.toDate().toISOString():W(t,"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]"):W(t,"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]")},toArray:function(){var t=this;return[t.year(),t.month(),t.date(),t.hours(),t.minutes(),t.seconds(),t.milliseconds()]},isValid:function(){return P(this)},isDSTShifted:function(){return!!this._a&&(this.isValid()&&S(this._a,(this._isUTC?_t.utc(this._a):_t(this._a)).toArray())>0)},parsingFlags:function(){return f({},this._pf)},invalidAt:function(){return this._pf.overflow},utc:function(t){return this.utcOffset(0,t)},local:function(t){return this._isUTC&&(this.utcOffset(0,t),this._isUTC=!1,t&&this.subtract(this._dateUtcOffset(),"m")),this},format:function(t){var e=W(this,t||_t.defaultFormat);return this.localeData().postformat(e)},add:b(1,"add"),subtract:b(-1,"subtract"),diff:function(t,e,i){var n,a,s=H(t,this),o=6e4*(s.utcOffset()-this.utcOffset());return e=x(e),"year"===e||"month"===e||"quarter"===e?(a=d(this,s),"quarter"===e?a/=3:"year"===e&&(a/=12)):(n=this-s,a="second"===e?n/1e3:"minute"===e?n/6e4:"hour"===e?n/36e5:"day"===e?(n-o)/864e5:"week"===e?(n-o)/6048e5:n),i?a:g(a)},from:function(t,e){return _t.duration({to:this,from:t}).locale(this.locale()).humanize(!e)},fromNow:function(t){return this.from(_t(),t)},calendar:function(t){var e=t||_t(),i=H(e,this).startOf("day"),n=this.diff(i,"days",!0),a=-6>n?"sameElse":-1>n?"lastWeek":0>n?"lastDay":1>n?"sameDay":2>n?"nextDay":7>n?"nextWeek":"sameElse";return this.format(this.localeData().calendar(a,this,_t(e)))},isLeapYear:function(){return L(this.year())},isDST:function(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()},day:function(t){var e=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=t?(t=ot(t,this.localeData()),this.add(t-e,"d")):e},month:gt("Month",!0),startOf:function(t){switch(t=x(t)){case"year":this.month(0);case"quarter":case"month":this.date(1);case"week":case"isoWeek":case"day":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}return"week"===t?this.weekday(0):"isoWeek"===t&&this.isoWeekday(1),"quarter"===t&&this.month(3*Math.floor(this.month()/3)),this},endOf:function(e){return e=x(e),e===t||"millisecond"===e?this:this.startOf(e).add(1,"isoWeek"===e?"week":e).subtract(1,"ms")},isAfter:function(t,e){var i;return e=x("undefined"!=typeof e?e:"millisecond"),"millisecond"===e?(t=_t.isMoment(t)?t:_t(t),+this>+t):(i=_t.isMoment(t)?+t:+_t(t),i<+this.clone().startOf(e))},isBefore:function(t,e){var i;return e=x("undefined"!=typeof e?e:"millisecond"),"millisecond"===e?(t=_t.isMoment(t)?t:_t(t),+t>+this):(i=_t.isMoment(t)?+t:+_t(t),+this.clone().endOf(e)<i)},isBetween:function(t,e,i){return this.isAfter(t,i)&&this.isBefore(e,i)},isSame:function(t,e){var i;return e=x(e||"millisecond"),"millisecond"===e?(t=_t.isMoment(t)?t:_t(t),+this===+t):(i=+_t(t),+this.clone().startOf(e)<=i&&i<=+this.clone().endOf(e))},min:s("moment().min is deprecated, use moment.min instead. https://github.com/moment/moment/issues/1548",function(t){return t=_t.apply(null,arguments),this>t?this:t}),max:s("moment().max is deprecated, use moment.max instead. https://github.com/moment/moment/issues/1548",function(t){return t=_t.apply(null,arguments),t>this?this:t}),zone:s("moment().zone is deprecated, use moment().utcOffset instead. https://github.com/moment/moment/issues/1779",function(t,e){return null!=t?("string"!=typeof t&&(t=-t),this.utcOffset(t,e),this):-this.utcOffset()}),utcOffset:function(t,e){var i,n=this._offset||0;return null!=t?("string"==typeof t&&(t=V(t)),Math.abs(t)<16&&(t=60*t),!this._isUTC&&e&&(i=this._dateUtcOffset()),this._offset=t,this._isUTC=!0,null!=i&&this.add(i,"m"),n!==t&&(!e||this._changeInProgress?_(this,_t.duration(t-n,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,_t.updateOffset(this,!0),this._changeInProgress=null)),this):this._isUTC?n:this._dateUtcOffset()},isLocal:function(){return!this._isUTC},isUtcOffset:function(){return this._isUTC},isUtc:function(){return this._isUTC&&0===this._offset},zoneAbbr:function(){return this._isUTC?"UTC":""},zoneName:function(){return this._isUTC?"Coordinated Universal Time":""},parseZone:function(){return this._tzm?this.utcOffset(this._tzm):"string"==typeof this._i&&this.utcOffset(V(this._i)),this},hasAlignedHourOffset:function(t){return t=t?_t(t).utcOffset():0,(this.utcOffset()-t)%60===0},daysInMonth:function(){return A(this.year(),this.month())},dayOfYear:function(t){var e=Tt((_t(this).startOf("day")-_t(this).startOf("year"))/864e5)+1;return null==t?e:this.add(t-e,"d")},quarter:function(t){return null==t?Math.ceil((this.month()+1)/3):this.month(3*(t-1)+this.month()%3)},weekYear:function(t){var e=dt(this,this.localeData()._week.dow,this.localeData()._week.doy).year;return null==t?e:this.add(t-e,"y")},isoWeekYear:function(t){var e=dt(this,1,4).year;return null==t?e:this.add(t-e,"y")},week:function(t){var e=this.localeData().week(this);return null==t?e:this.add(7*(t-e),"d")},isoWeek:function(t){var e=dt(this,1,4).week;return null==t?e:this.add(7*(t-e),"d")},weekday:function(t){var e=(this.day()+7-this.localeData()._week.dow)%7;return null==t?e:this.add(t-e,"d")},isoWeekday:function(t){return null==t?this.day()||7:this.day(this.day()%7?t:t-7)},isoWeeksInYear:function(){return M(this.year(),1,4)},weeksInYear:function(){var t=this.localeData()._week;return M(this.year(),t.dow,t.doy)},get:function(t){return t=x(t),this[t]()},set:function(t,e){var i;if("object"==typeof t)for(i in t)this.set(i,t[i]);else t=x(t),"function"==typeof this[t]&&this[t](e);return this},locale:function(e){var i;return e===t?this._locale._abbr:(i=_t.localeData(e),null!=i&&(this._locale=i),this)},lang:s("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(e){return e===t?this.localeData():this.locale(e)}),localeData:function(){return this._locale},_dateUtcOffset:function(){return 15*-Math.round(this._d.getTimezoneOffset()/15)}}),_t.fn.millisecond=_t.fn.milliseconds=gt("Milliseconds",!1),_t.fn.second=_t.fn.seconds=gt("Seconds",!1),_t.fn.minute=_t.fn.minutes=gt("Minutes",!1),_t.fn.hour=_t.fn.hours=gt("Hours",!0),_t.fn.date=gt("Date",!0),_t.fn.dates=s("dates accessor is deprecated. Use date instead.",gt("Date",!0)),_t.fn.year=gt("FullYear",!0),_t.fn.years=s("years accessor is deprecated. Use year instead.",gt("FullYear",!0)),_t.fn.days=_t.fn.day,_t.fn.months=_t.fn.month,_t.fn.weeks=_t.fn.week,_t.fn.isoWeeks=_t.fn.isoWeek,_t.fn.quarters=_t.fn.quarter,_t.fn.toJSON=_t.fn.toISOString,_t.fn.isUTC=_t.fn.isUtc,f(_t.duration.fn=m.prototype,{_bubble:function(){var t,e,i,n=this._milliseconds,a=this._days,s=this._months,o=this._data,r=0;o.milliseconds=n%1e3,t=g(n/1e3),o.seconds=t%60,e=g(t/60),o.minutes=e%60,i=g(e/60),o.hours=i%24,a+=g(i/24),r=g(vt(a)),a-=g(wt(r)),s+=g(a/30),a%=30,r+=g(s/12),s%=12,o.days=a,o.months=s,o.years=r},abs:function(){return this._milliseconds=Math.abs(this._milliseconds),this._days=Math.abs(this._days),this._months=Math.abs(this._months),this._data.milliseconds=Math.abs(this._data.milliseconds),this._data.seconds=Math.abs(this._data.seconds),this._data.minutes=Math.abs(this._data.minutes),this._data.hours=Math.abs(this._data.hours),this._data.months=Math.abs(this._data.months),this._data.years=Math.abs(this._data.years),this},weeks:function(){return g(this.days()/7)},valueOf:function(){return this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*$(this._months/12)},humanize:function(t){var e=lt(this,!t,this.localeData());return t&&(e=this.localeData().pastFuture(+this,e)),this.localeData().postformat(e)},add:function(t,e){var i=_t.duration(t,e);return this._milliseconds+=i._milliseconds,this._days+=i._days,this._months+=i._months,this._bubble(),this},subtract:function(t,e){var i=_t.duration(t,e);return this._milliseconds-=i._milliseconds,this._days-=i._days,this._months-=i._months,this._bubble(),this},get:function(t){return t=x(t),this[t.toLowerCase()+"s"]()},as:function(t){var e,i;if(t=x(t),"month"===t||"year"===t)return e=this._days+this._milliseconds/864e5,i=this._months+12*vt(e),"month"===t?i:i/12;switch(e=this._days+Math.round(wt(this._months/12)),t){case"week":return e/7+this._milliseconds/6048e5;case"day":return e+this._milliseconds/864e5;case"hour":return 24*e+this._milliseconds/36e5;case"minute":return 24*e*60+this._milliseconds/6e4;case"second":return 24*e*60*60+this._milliseconds/1e3;case"millisecond":return Math.floor(24*e*60*60*1e3)+this._milliseconds;default:throw new Error("Unknown unit "+t)}},lang:_t.fn.lang,locale:_t.fn.locale,toIsoString:s("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",function(){return this.toISOString()}),toISOString:function(){var t=Math.abs(this.years()),e=Math.abs(this.months()),i=Math.abs(this.days()),n=Math.abs(this.hours()),a=Math.abs(this.minutes()),s=Math.abs(this.seconds()+this.milliseconds()/1e3);return this.asSeconds()?(this.asSeconds()<0?"-":"")+"P"+(t?t+"Y":"")+(e?e+"M":"")+(i?i+"D":"")+(n||a||s?"T":"")+(n?n+"H":"")+(a?a+"M":"")+(s?s+"S":""):"P0D"},localeData:function(){return this._locale},toJSON:function(){return this.toISOString()}}),_t.duration.fn.toString=_t.duration.fn.toISOString;for(Ct in ce)i(ce,Ct)&&yt(Ct.toLowerCase());_t.duration.fn.asMilliseconds=function(){return this.as("ms")},_t.duration.fn.asSeconds=function(){return this.as("s")},_t.duration.fn.asMinutes=function(){return this.as("m")},_t.duration.fn.asHours=function(){return this.as("h")},_t.duration.fn.asDays=function(){return this.as("d")},_t.duration.fn.asWeeks=function(){return this.as("weeks")},_t.duration.fn.asMonths=function(){return this.as("M")},_t.duration.fn.asYears=function(){return this.as("y")},_t.locale("en",{ordinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(t){var e=t%10,i=1===$(t%100/10)?"th":1===e?"st":2===e?"nd":3===e?"rd":"th";return t+i}}),Nt?module.exports=_t:"function"==typeof define&&define.amd?(define(function(t,e,i){return i.config&&i.config()&&i.config().noGlobal===!0&&(xt.moment=kt),_t}),bt(!0)):bt()}.call(this),jQuery&&jQuery.noConflict(),function(t){var e=window.imkt||(window.imkt={});e.core={init:function(e){var i=this;this.featureDetect(),t("script[type='text/x-component']",e).each(function(e,n){var a=t.parseJSON(t.trim(n.innerHTML)),s=n.parentNode;i.componentInit.call(i,s,a)}),t(document).trigger("appInitialized"),this.appInitialized=!0},onInitialized:function(e){this.appInitialized?e():t(document).on("appInitialized",e)},featureDetect:function(){var e=[];this.supports.svg()||e.push("no-svg"),this.supports.backgroundSize()||e.push("no-backgroundsize"),this.supports.flexBox()||e.push("no-flexbox"),t("body").addClass(e.join(" "))},extend:function(t,e,i){var n,a=function(){};a.prototype=t.prototype,e.prototype=new a;for(n in i)e.prototype[n]=i[n];e.prototype.constructor=t},resolve:function(t,e){var i=window;if(!t)return null;if("function"==typeof t)return t;var n,a,s,o=i,r=t.split(".");for(a=0,s=r.length;a<s;a++){if(n=r[a],i=i[n],!i){if(!e)return null;i=o[n]={}}o=i}return i},componentInit:function(e,i){var n=this.resolve(i.type);if(n)return new n(e,t.extend({},i.params,t(e).data()))},supports:{flexBox:function(){return"flexWrap"in document.documentElement.style||"webkitFlexWrap"in document.documentElement.style},history:function(){return window.history&&window.history.pushState},svg:function(){return document.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#Image","1.1")},backgroundSize:function(){return"backgroundSize"in document.documentElement.style},touch:function(){return"ontouchstart"in window},placeholder:function(){var t=document.createElement("input");return"placeholder"in t},localStorage:function(){try{return window.localStorage.setItem("hasStorage","1"),window.localStorage&&window.localStorage.setItem&&window.localStorage.removeItem}catch(t){return!1}},transitions:function(){var t=document.body||document.documentElement,e=t.style,i="transition";if("string"==typeof e[i])return!0;var n=["Moz","webkit","Webkit","Khtml","O","ms"];i=i.charAt(0).toUpperCase()+i.substr(1);for(var a=0;a<n.length;a++)if("string"==typeof e[n[a]+i])return!0;return!1}},is:{mobile:function(){return e.core.supports.touch()&&screen.width&&screen.width<768}}},t(document).ready(function(){t("body").hasClass("edit")||e.core.init(document.body)})}(jQuery),function(t){var e=window.imkt||(window.imkt={});e.core=e.core||{},e.core.Page=function(e,i){this.$domRoot=t(e),this.params=t.extend({},{},i),this.init()},e.core.Page.prototype={init:function(){new e.common.Form(t("header .search-form",this.$domRoot).parent(),{});this.bindTriggers(),this.initStickyElements(),this.startAutoDownload(),this.initSvgElements()},bindEvents:function(){},bindTriggers:function(){var e=this;document.onreadystatechange=function(){"complete"===document.readyState&&t(document).trigger("font-face-applied")},t(document).on("font-face-applied",function(){e.initEqualHeights()})},initStickyElements:function(){t(".imkt-sticky",this.$domRoot).each(function(t,i){e.core.componentInit(i,{type:e.common.StickyElement})})},initSvgElements:function(){e.core.componentInit(t("body"),{type:e.utils.svg})},startAutoDownload:function(){t("#auto-download[href]",this.domRoot).eq(0).each(function(e,i){var n,a=t(i),s=a.attr("href");s&&(n=parseFloat(a.attr("data-delay")),n=isNaN(n)?2e3:1e3*n,setTimeout(function(){window.location.href=s},n))})},initEqualHeights:function(){return"function"==typeof t("body").matchHeight&&!t("body").hasClass("edit")&&void t(".imkt-equalheights-parent").each(function(){var e=this,i=0;t(e).hasClass("imkt-equalheights--by-row")&&(i=1),t(e).find(".imkt-equalheights-child").matchHeight({byRow:i})})}}}(jQuery),function(t){var e=window.imkt||(window.imkt={});e.pages=e.pages||{},e.pages.WACPage=function(t,i){e.core.Page.apply(this,arguments)},e.core.extend(e.core.Page,e.pages.WACPage,{bindEvents:function(){t(".language-selector > a",this.$domRoot).on("click",function(t){t.preventDefault()})}})}(jQuery),function(t){var e=window.imkt||(window.imkt={});e.pages=e.pages||{},e.pages.HipChatPage=function(t,i){e.core.Page.apply(this,arguments)},e.core.extend(e.core.Page,e.pages.HipChatPage,{init:function(){this.$header=t("header",this.$domRoot),this.initSlidingNav(),this.bindEvents(),e.core.Page.prototype.init.apply(this,arguments)},bindEvents:function(){e.core.Page.prototype.bindEvents.apply(this,arguments)},collapsed:!0,initSlidingNav:function(){this.$menuToggle=t(".menu-toggle",this.$header),this.$menuSubNavToggle=t(".subnavigation--parent",this.$header),this.$nav=t("nav.nav--main",this.$header),this.$navInner=t(".nav-inner",this.$nav),this.$slidingSubNav=t("nav.nav--sliding-subnav",this.$header),this.$menuToggle.on("click",t.proxy(this.onclick_menuToggle,this)),this.$menuSubNavToggle.on("click",t.proxy(this.onclick_menuSubNavToggle,this)),t(window).onThrottled("resize.slidingNav orientantionchange.slidingNav",t.proxy(function(i){!this.collapsed&&t(window).width()>e.constants.mobileBreakpoint&&this.toggleMenu()},this))},onclick_menuToggle:function(t){t.preventDefault(),this.toggleMenu()},onclick_menuSubNavToggle:function(t){t.preventDefault(),this.toggleSubNavMenu()},toggleMenu:function(){var t="aui-iconfont-appswitcher",e="aui-iconfont-close-dialog";this.$header.toggleClass("nav-open"),this.$menuToggle.addClass(this.collapsed?e:t).removeClass(this.collapsed?t:e),this.$nav.css({minHeight:this.collapsed?this.$navInner.outerHeight():""}),this.collapsed=!this.collapsed},toggleSubNavMenu:function(){var t="aui-iconfont-collapsed",e="aui-iconfont-expanded";this.$menuSubNavToggle.toggleClass("nav-open"),this.$menuSubNavToggle.find("span.aui-icon").addClass(this.collapsed?e:t).removeClass(this.collapsed?t:e),this.$header.toggleClass("sliding-subnav--open"),this.collapsed=!this.collapsed}})}(jQuery),function(t){var e=window.imkt||(window.imkt={});e.common=e.common||{},e.common.Form=function(e,i){this.$domRoot=t(e),this.params=t.extend({},{},i),this.init()},e.common.Form.prototype={init:function(){this.$form=t("form",this.$domRoot),this.$form.length&&(this.$fields=t("input:input, textarea:input",this.$form),this.populateFields(),this.initValidation(),this.bindEvents())},bindEvents:function(){this.$fields.on("keypress",t.proxy(function(t){13===t.which&&this.$form.submit()},this)),this.$form.on("submit",t.proxy(this.onsubmit_form,this)),this.initPlaceholders(),this.initTooltips()},populateFields:function(){this.prepopulateTimezone()},prepopulateTimezone:function(){var i,n=t("[name=timezone]",this.$form);n.length&&(i=function(){window.jstz&&window.jstz.hasOwnProperty("determine")&&n.val(window.jstz.determine().name())},"undefined"==typeof window.jstz?t.getScript(e.constants.libPath+"jstzdetect/jstz.min.js",i):i())},validationOptions:{},initValidation:function(){t.validator.addMethod("fullName",function(t,e){return t.match(/^\s*\S+\s+\S+.*$/)},"Please enter a first and last name."),this.validator=this.$form.validate(t.extend(!0,{errorElement:"div",errorPlacement:function(e,i){var n=t(i),a=n.siblings(".field-suffix"),s=n.siblings(".description");a.length&&(n=a),s.length&&(n=s),n.after(e)}},this.validationOptions))},onsubmit_form:function(t,e){e||t.preventDefault(),this.$form.valid()&&(this.params.useAjax?this.ajaxSubmit():e||this.$form.trigger("beforeSubmit").trigger("submit",[!0]))},ajaxSubmit:function(){this.$form.trigger("beforeSubmit"),t.ajax({url:this.getAjaxUrl(),data:this.getAjaxData(),contentType:this.getAjaxContentType(),type:this.$form.attr("method")||"GET",beforeSend:t.proxy(this.ajaxBeforeSend,this),success:t.proxy(this.ajaxSuccess,this),error:t.proxy(this.ajaxError,this),complete:t.proxy(this.ajaxComplete,this)})},initPlaceholders:function(){if(!e.core.supports.placeholder()){var i=t("[placeholder]",this.$form),n=function(e){e.val(function(e,i){return t(this).attr("placeholder")}).addClass("placeholder")},a=function(t){t.val("").removeClass("placeholder")};n(i),i.on("focusin",function(e){var i=t(e.currentTarget);i.val()===i.attr("placeholder")&&i.hasClass("placeholder")&&a(i)}).on("focusout",function(e){var i=t(e.currentTarget);i.val()||n(i)})}},getAjaxContentType:function(){return"application/json"},getAjaxUrl:function(){return this.$form.attr("action")},getAjaxData:function(){return this.$form.serialize()},ajaxBeforeSend:function(t,e){this.$form.addClass("loading")},ajaxSuccess:function(t,e,i){},ajaxError:function(t,e,i){},ajaxComplete:function(t,e){this.$form.removeClass("loading")},initTooltips:function(){this.$form.find(".imkt__form--tooltip").each(function(){var e=t(this),i=e.offset().left;i<=220&&e.next(".imkt__form--tooltip-description").addClass("force-left")}),this.$form.find(".imkt__form--tooltip").on("click",function(e){t(this).toggleClass("active")}).on("mouseover",function(e){t(this).addClass("active")}).on("mouseout",function(e){t(this).removeClass("active")})}}}(jQuery),function(t){var e=window.imkt||(window.imkt={});e.common=e.common||{},e.common.ProductOndemandForm=function(t,i){e.common.Form.apply(this,arguments)},e.core.extend(e.common.Form,e.common.ProductOndemandForm,{baseDomain:"https://qa-wac.internal.atlassian.com/",hamletBaseUrl:"https://qa-wac.internal.atlassian.com/apis/stg/hamlet/1.0/public/",hamletPathAvailableDomain:"order/ondemand/validate/",hamletPathAvailableEmail:"aid/exists/",hamletPathValidateOndemandForm:"order/ondemand/evaluation/validate",hamletPathOndemandSubmit:"order/ondemand/evaluation",successPagePath:"ondemand/signup/checkemail?accountName=",bindEvents:function(){var i=this;e.isProduction&&(this.baseDomain="https://www.atlassian.com/",this.hamletBaseUrl="https://www.atlassian.com/hamlet/1.0/public/"),this.$emailField=this.$fields.filter("[name=email]"),this.$accountNameField=this.$fields.filter("[name=accountName]"),this.$firstNameField=this.$fields.filter("[name=firstName]"),this.$lastNameField=this.$fields.filter("[name=lastName]"),this.$passwordField=this.$fields.filter("[name=aodPass]"),this.$showPasswordField=this.$fields.filter("#show-password-checkbox"),this.$submitButton=this.$domRoot.find(".imkt__form--product-on-demand__button--submit"),this.$emailField.onThrottled("input",t.proxy(this.onchange_emailField,this),1e3),this.$accountNameField.onThrottled("input",t.proxy(this.onchange_accountNameField,this),1e3),this.$showPasswordField.on("click",function(t){i.showPassword()}),t(".help").on("mouseover",function(e){t(this).find(".tooltip").show()}).on("mouseout",function(e){t(this).find(".tooltip").hide()}),this.$form.on("submit",function(t){i.onSubmit_form(t)})},onSubmit_form:function(t){if(t.preventDefault(),!this.validateOnDemand())return!1},onchange_accountNameField:function(e){var i=t(e.currentTarget),n=i.val(),a=this.hamletBaseUrl+this.hamletPathAvailableDomain+n;return i.nextAll(".error-message, .hamlet-error-message, .aui-icon").hide(),!!n&&(n.length<6?(i.nextAll(".error-message").show(),!1):(i.nextAll(".aui-iconfont-build").css("display","inline-block"),void t.ajax({url:a,type:"POST",success:t.proxy(function(t,e,n){var a=t&&t.success;i.nextAll(".aui-iconfont-build").hide(),!a&&t.message?(i.nextAll(".hamlet-error-message").find(".message-details").text(t.message),i.nextAll(".hamlet-error-message").show()):i.nextAll(".validation-success").css("display","inline-block")},this),error:t.proxy(function(t,e,n){i.nextAll(".aui-iconfont-build").hide()},this)})))},onchange_emailField:function(e){var i=t(e.currentTarget),n=i.val(),a=this.hamletBaseUrl+this.hamletPathAvailableEmail+n,s=this.validateEmail(n);return i.nextAll(".error-message, .hamlet-error-message, .aui-icon").hide(),!!n&&(s?(i.nextAll(".aui-iconfont-build").css("display","inline-block"),void t.ajax({url:a,type:"POST",success:t.proxy(function(t,e,n){i.nextAll(".aui-iconfont-build").hide();var a=t&&!t.success;!a&&t.message?i.nextAll(".hamlet-error-message").show():i.nextAll(".email-validation-success").css("display","inline-block")},this),error:t.proxy(function(t,e,n){i.nextAll(".aui-iconfont-build").hide()},this)})):(i.nextAll(".error-message").show(),!1))},validateOnDemand:function(){this.checkField(this.$firstNameField,!0),this.checkField(this.$lastNameField,!0),this.checkField(this.$accountNameField),this.checkField(this.$emailField),this.checkField(this.$passwordField,!0),this.$form.find(".validation-error-message").hide();var e=t(".error-message, .hamlet-error-message").is(":visible"),i=this.hamletBaseUrl+this.hamletPathValidateOndemandForm;if(e)return!1;t(".submit--initial-text").hide(),t(".submit--processing-text").show(),this.$submitButton.attr("disabled","disabled");var n=this,a={contactDetails:{email:this.$emailField.val(),firstName:this.$firstNameField.val(),lastName:this.$lastNameField.val()},organisationDetails:null,onDemandAccountDetails:{accountName:this.$accountNameField.val(),adminUsername:"admin",adminPassword:this.$passwordField.val(),productKeys:["jira-software.ondemand"],timeZone:"America/Los_Angeles"},termsOfServiceAccepted:!0,creditCardDetails:null};t.ajax({url:i,type:"POST",dataType:"json",contentType:"application/json",data:JSON.stringify(a),success:t.proxy(function(t,e,i){"undefined"==typeof t&&n.submitOnDemand(a)},this),error:t.proxy(function(t,e,i){n.$submitButton.find(".submit--initial-text").show(),n.$submitButton.find(".submit--processing-text").hide(),n.$submitButton.removeAttr("disabled"),n.$form.find(".validation-error-message").show()},this)})},checkField:function(t,e){t.val().length?e&&t.nextAll(".error-message").hide():t.nextAll(".error-message").show()},submitOnDemand:function(e){var i=this.hamletBaseUrl+this.hamletPathOndemandSubmit,n=this;t.ajax({url:i,type:"POST",dataType:"json",contentType:"application/json",data:JSON.stringify(e),success:t.proxy(function(t,e,i){t&&t.orderId&&n.updateStatusResults()},this),error:t.proxy(function(t,e,i){},this),complete:t.proxy(function(t,e){},this)})},updateStatusResults:function(){window.location=this.baseDomain+this.successPagePath+this.$accountNameField.val()},showPassword:function(){this.$showPasswordField.is(":checked")?this.$passwordField.attr("type","text"):this.$passwordField.attr("type","password")},validateEmail:function(t){var e=/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;return e.test(t)}})}(jQuery),function(t){var e=window.imkt||(window.imkt={});e.common=e.common||{},e.common.ExactTargetForm=function(e,i){this.$domRoot=t(e),this.params=t.extend({},{},i),this.init()},e.common.ExactTargetForm.prototype={init:function(){var e=this;t("body").on("submit","#exact-target",function(i){i.preventDefault();var n=t(this),a=n.find("#emailAddress").val(),s="https://www.atlassian.com/apis/exact-target/"+a+"/subscribe?mailingListId="+e.params.mailingListId;n.validate({rules:{emailAddress:{required:!0,email:!0}}}),n.valid()&&t.ajax({url:s,method:"POST",complete:function(){if(""!==e.params.externalLink)window.location.replace(e.params.externalLink);else{var t=n.next(".success-message");n.remove(),t.removeClass("display-none")}}})})}}}(jQuery),function(t){var e=window.imkt||(window.imkt={});e.common=e.common||{},e.common.HipChatForm=function(t,i){e.common.Form.apply(this,arguments)},e.core.extend(e.common.Form,e.common.HipChatForm,{populateFields:function(){this.populateXSRFTokenField(),e.common.Form.prototype.populateFields.apply(this,arguments)},populateXSRFTokenField:function(){var e=t("[name=xsrf_token]",this.$form);e.length||(e=t("<input>").attr({type:"hidden",name:"xsrf_token"}).appendTo(this.$form)),t.ajax({url:"/xsrf_token",method:"POST",success:function(t,i,n){t.token&&e.val(t.token)}})}})}(jQuery),function(t){var e=window.imkt||(window.imkt={});e.common=e.common||{},e.common.NewsletterForm=function(t,i){e.common.Form.apply(this,arguments)},e.core.extend(e.common.Form,e.common.NewsletterForm,{getAjaxUrl:function(){var i=this.$form.attr("action").replace("{{emailAddress}}",t("[name=emailAddress]",this.$form).val());return e.utils.url.addUrlParams({mailingListId:t("[name=mailingListId]",this.$form).val()||234098},i)},ajaxBeforeSend:function(t,i){this.$domRoot.find(".message").remove(),e.common.Form.prototype.ajaxBeforeSend.call(this,arguments)},ajaxError:function(t,e,i){this.$form.before("<div class='message error'>There was a problem subscribing to the newsletter &ndash; please try again later</div>")},ajaxSuccess:function(t,e,i){window.location="https://www.atlassian.com/newsletter/subscribe-confirmation/"}})}(jQuery),function(t){var e=window.imkt||(window.imkt={});e.common=e.common||{},e.common.HipChatSignupForm=function(t,i){e.common.HipChatForm.apply(this,arguments)},e.core.extend(e.common.HipChatForm,e.common.HipChatSignupForm,{subdomainAvailable:!0,emailAvailable:!0,validationOptions:{
rules:{subdomain:"subdomainAvailable",email:"emailAvailable",name:"fullName"}},bindEvents:function(){this.$emailField=this.$fields.filter("[name=email]"),this.$subdomainField=this.$fields.filter("[name=subdomain]"),this.emailChangeEvent="input.emailSubdomainMatch",this.$emailField.on(this.emailChangeEvent,t.proxy(this.emailSubdomainMatch,this)).onThrottled("input",t.proxy(this.onchange_emailField,this),1e3),this.$subdomainField.onThrottled("input",t.proxy(this.onchange_subdomainField,this),1e3),this.$form.on("beforeSubmit",t.proxy(this.onbeforeSubmit_form,this)),e.common.HipChatForm.prototype.bindEvents.apply(this,arguments)},initValidation:function(){t.validator.addMethod("subdomainAvailable",t.proxy(function(t,e){return this.subdomainAvailable},this),"This Team Name is already in use. If your team is already using HipChat, please ask the group admin for an invite."),t.validator.addMethod("emailAvailable",t.proxy(function(t,e){return this.emailAvailable},this),"An account has already been created using that email address."),e.common.HipChatForm.prototype.initValidation.call(this,arguments)},onbeforeSubmit_form:function(){var e=t("[name=name]",this.$form),i=t("[name=first-name]",this.$form).val(),n=t("[name=last-name]",this.$form).val(),a=[];i&&a.push(i),n&&a.push(n),e.length||(e=t("<input>").attr({type:"hidden",name:"name"}).appendTo(this.$form)),a.length&&e.val(a.join(" "))},emailSubdomainMatch:function(e){var i=t(e.currentTarget),n=i.val(),a=n.indexOf("@"),s=n.indexOf(".",a),o=n.substring(a+1,s>-1?s:n.length);this.$subdomainField.val();i.data("emailHost",o),a>-1&&this.$subdomainField.val()!==o&&this.$subdomainField.val(o).trigger("input")},onchange_emailField:function(e){var i=t(e.currentTarget);t.ajax({url:"/api/validate_email",data:{email:i.val()},success:t.proxy(function(e,i,n){this.emailAvailable=e&&!e.error,e&&e.error&&(t.validator.messages.emailAvailable=e.error)},this),error:t.proxy(function(t,e,i){this.emailAvailable=!0},this),complete:t.proxy(function(t,e){i.valid()},this)})},onchange_subdomainField:function(e){var i=t(e.currentTarget);this.$emailField.data("emailHost")!==i.val()&&this.$emailField.off(this.emailChangeEvent),t.ajax({url:"/api/validate_subdomain",data:{subdomain:i.val()},success:t.proxy(function(e,i,n){this.subdomainAvailable=e&&!e.error,e&&e.error&&(t.validator.messages.subdomainAvailable=e.error)},this),error:t.proxy(function(t,e,i){this.subdomainAvailable=!0},this),complete:t.proxy(function(t,e){i.valid()},this)})}})}(jQuery),function(t){var e=window.imkt||(window.imkt={});e.common=e.common||{},e.common.LanguageSelector=function(e,i){this.$domRoot=t(e),this.params=t.extend({},{},i),this.init()},e.common.LanguageSelector.prototype={init:function(){this.$domRoot.find("select").find("option:not(':disabled')").each(function(i,n){var a=t(n),s=a.attr("value");if(e.utils.url.getHostname(s)===e.utils.url.getHostname())return a.attr("selected","selected").prop("selected","selected").siblings().removeAttr("selected").removeProp("selected"),!1}).end().on("change",function(e){window.location=t(e.currentTarget).val()})}}}(jQuery),function(t){var e=window.imkt||(window.imkt={});e.common=e.common||{},e.common.StickyElement=function(e,i){this.$domRoot=t(e),this.params=t.extend({},{anchor:"top",width:"100%",offset:0,isStickyAside:!1},i),this.disableSticky=!1,this.params.isStickyAside&&(this.params.offset=this.getAsideOffset()),this.init()},e.common.StickyElement.prototype={stuckClass:"stuck",init:function(){var e=this;this.buildWrapper(),this.sizeWrapper(),this.params.isStickyAside&&this.checkWindowHeight(),t.fn.waypoint&&(this.waypoint=this.$wrapper.waypoint({offset:function(){var i=e.params.offset;return"bottom"===e.params.anchor?i=t(window).height()-e.$domRoot.outerHeight()-e.params.offset:0===e.$domRoot.offset().top&&(i=-1),i},handler:function(t){e.scrollPast.call(e,this,t)}}),this.$domRoot.data("instance",this)),t(window).onThrottled("resize",function(){e.sizeWrapper.bind(this),e.params.isStickyAside&&e.checkWindowHeight()}),this.$domRoot.on("click",".imkt-accordion--heading",function(){e.params.isStickyAside&&e.checkWindowHeight(200)})},scrollPast:function(t,e){var i={},n=!this.disableSticky&&("top"===this.params.anchor&&"down"===e||"bottom"===this.params.anchor&&"up"===e);n?"top"===this.params.anchor?i.top=this.params.offset:"bottom"===this.params.anchor&&(i.bottom=this.params.offset):(i.top="",i.bottom=""),i.width="function"==typeof this.params.width?this.params.width():this.params.width,this.$domRoot.css(i).toggleClass(this.stuckClass,n).trigger("scrollPast",[n,e,t])},buildWrapper:function(){var t="imkt-sticky-wrapper";this.$domRoot.hasClass("show-on-stuck")&&(t+=" inline"),this.$domRoot.hasClass("left")&&(t+=" left"),this.$domRoot.hasClass("right")&&(t+=" right"),this.params.isStickyAside&&(t+=" imkt-sticky-wrapper--aside"),this.$wrapper||(this.$wrapper=this.$domRoot.wrap("<div class='"+t+"'>").parent())},sizeWrapper:function(){this.$wrapper&&this.$wrapper.css({height:this.$domRoot.outerHeight()})},getAsideOffset:function(){var e=0,i=t(".imkt-sticky");return i.length&&(e+=i.height()),e},checkWindowHeight:function(e){this.disableSticky=!1;var i=t(window).height(),n=t("footer").outerHeight(),a=i-n-this.params.offset,s=this.$domRoot.outerHeight(),o=this;e=e||0,setTimeout(function(){s=o.$domRoot.outerHeight(),s>=a&&(o.disableSticky=!0,o.$domRoot.removeClass(o.stuckClass))},e)}}}(jQuery),function(t){var e=window.imkt||(window.imkt={});e.common=e.common||{},e.common.TweetQuote=function(e,i){this.$domRoot=t(e),this.params=t.extend({},{},i),this.tweetButton={tag:"a",className:"tweet-link",href:"https://twitter.com/intent/tweet",text:"Tweet this"},this.defaultViaTag="Atlassian",this.init()},e.common.TweetQuote.prototype={init:function(){var e=this;t("h3.tweet-quote").each(function(i){var n=t(this);n.hasClass("tweet-quote-processed")||e.addTweetButton(n)})},addTweetButton:function(t){t.append(this.buildTweetButton(t)),t.addClass("tweet-quote-processed")},buildTweetButton:function(e){var i=document.createElement(this.tweetButton.tag);return i.className=this.tweetButton.className,i.href=this.getTweetUrl(e),i.text=this.tweetButton.text,t(i).on("click",function(t){t.preventDefault(),window.open(this.href,"","menubar=no,toolbar=no,resizable=yes,scrollbars=yes,height=400,width=600")}),i},getTweetUrl:function(t){var e=this.tweetButton.href,i=t.attr("class"),n=this.getHashTags(i),a=this.getViaTags(i);return e=e+"?text="+encodeURIComponent('"'+t.text()+'"')+"&hashtags="+n+"&url="+(this.shortUrl?encodeURIComponent(this.shortUrl):encodeURIComponent(window.location.href))+"&via="+a},getHashTags:function(t){var e=t.match(/#\S+/g),i=e?e.join().replace(/#/g,""):[];return i},getViaTags:function(t){var e=t.match(/@\S+/),i=e?e[0].replace(/@/g,""):this.defaultViaTag;return i}};new e.common.TweetQuote}(jQuery),function(t){var e=window.imkt||(window.imkt={});e.common=e.common||{},e.common.WACHeader=function(e,i){this.$domRoot=t(e),this.params=t.extend({},{},i),this.init()},e.common.WACHeader.prototype={constants:{TOPNAV_SELECTED_CLASS:"selected",TOPNAV_HREF_TOGGLE_CLASS:"topnav-toggle",TOPNAV_HREF_LINK_CLASS:"topnav-link",SUBNAV_ACTIVE_CLASS:"active",SUBNAV_IN_CLASS:"in",SUBNAV_OUT_CLASS:"out",SUBNAV_BEFORE_CLASS:"backward",SUBNAV_AFTER_CLASS:"forward",HEADER_OPEN_CLASS:"nav-open",DESKTOP_HEADER_HEIGHT:95,MOBILE_HEADER_HEIGHT:62},isMobileLayout:function(){return t(window).width()<=e.constants.mobileBreakpoint},setChannelState:function(){this.isCurrentlyMobile=this.isMobileLayout(),this.originalHeaderHeight=this.isCurrentlyMobile?this.constants.MOBILE_HEADER_HEIGHT:this.constants.DESKTOP_HEADER_HEIGHT,this.setHeaderHeight(0)},init:function(){this.setChannelState(),this.$topnavLis=t("#topnav > ul > li",this.$domRoot),this.$topnavLinks=this.$topnavLis.children("a"),this.$menuToggle=t(".menu-toggle",this.$domRoot),this.$docElement=t("html"),this.bindEvents()},bindEvents:function(){this.$topnavLinks.on("click",this.onclick_topnavLink.bind(this)),t(window).onThrottled("resize.topNav",function(t){this.isCurrentlyMobile!==this.isMobileLayout()&&(this.setChannelState(),this.action_deactivateTopnavLink(),this.action_closeMobileNav()),this.$activeSubnav&&this.setHeaderHeight(this.$activeSubnav.outerHeight())}.bind(this)),this.$topnavLis.on("click",function(t){t.stopPropagation()}),t(document).on("navChange",function(t,e){window.Waypoint&&window.Waypoint.refreshAll()}.bind(this)),t(document).on("click",function(){this.action_deactivateTopnavLink(),this.action_closeMobileNav()}.bind(this)),this.$menuToggle.on("click",function(t){t.preventDefault(),t.stopPropagation(),this.action_toggleMobileNav()}.bind(this))},onclick_topnavLink:function(t){this.isMobileLayout()||t.currentTarget.className!==this.constants.TOPNAV_HREF_TOGGLE_CLASS||(t.preventDefault(),t.stopPropagation(),this.action_toggleTopnavLink(t.currentTarget))},getSubnavIndex:function(t){return this.$topnavLis.index(t.closest("li"))},openSubnav:function(t){var e,i,n=null;t&&t.length&&(e=[this.constants.SUBNAV_ACTIVE_CLASS,this.constants.SUBNAV_IN_CLASS],i=[this.constants.SUBNAV_OUT_CLASS,this.constants.SUBNAV_AFTER_CLASS,this.constants.SUBNAV_BEFORE_CLASS],this.$activeSubnav&&this.$activeSubnav.length&&(n=this.getSubnavIndex(t)>this.getSubnavIndex(this.$activeSubnav),this.closeSubnav(this.$activeSubnav,n?this.constants.SUBNAV_BEFORE_CLASS:this.constants.SUBNAV_AFTER_CLASS),e.push(n?this.constants.SUBNAV_AFTER_CLASS:this.constants.SUBNAV_BEFORE_CLASS)),t.removeClass(i.join(" ")).addClass(e.join(" ")),this.setHeaderHeight(t.outerHeight()),this.$activeSubnav=t)},closeSubnav:function(t,e){var i,n;t&&t.length&&(i=[this.constants.SUBNAV_OUT_CLASS,e],n=[this.constants.SUBNAV_ACTIVE_CLASS,this.constants.SUBNAV_IN_CLASS,this.constants.SUBNAV_BEFORE_CLASS,this.constants.SUBNAV_AFTER_CLASS],t.removeClass(n.join(" ")).addClass(i.join(" ")),e||(this.setHeaderHeight(0),this.$activeSubnav=null))},setHeaderHeight:function(i){this.$domRoot.css({height:this.originalHeaderHeight+i}),e.core.supports.transitions()?this.$domRoot.one("webkitTransitionEnd otransitionend oTransitionEnd msTransitionEnd transitionend",function(e){t(document).trigger("navChange",0===i)}):t(document).trigger("navChange")},action_toggleTopnavLink:function(t){this.selectedLink!==t?this.action_activateTopnavLink(t):this.action_deactivateTopnavLink(t)},action_activateTopnavLink:function(e){var i,n;e&&(i=t(e),n=i.closest("li"),this.$topnavLis.removeClass(this.constants.TOPNAV_SELECTED_CLASS),n.addClass(this.constants.TOPNAV_SELECTED_CLASS),this.openSubnav(n.children("section")),this.selectedLink=e)},action_deactivateTopnavLink:function(){var e;this.selectedLink&&(e=t(this.selectedLink),this.$topnavLis.removeClass(this.constants.TOPNAV_SELECTED_CLASS),this.closeSubnav(e.closest("li").children("section")),this.selectedLink=null)},action_toggleMobileNav:function(){this.mobileNavOpen?this.action_closeMobileNav():this.action_openMobileNav()},action_openMobileNav:function(){this.mobileNavOpen=!0,this.$docElement.addClass(this.constants.HEADER_OPEN_CLASS)},action_closeMobileNav:function(){this.mobileNavOpen=!1,this.$docElement.removeClass(this.constants.HEADER_OPEN_CLASS)}}}(jQuery),function(t){var e=window.imkt||(window.imkt={});e.common=e.common||{},e.common.DownloadHelper={getFileExtension:function(t){var e;try{e=t.split(".").pop()}catch(i){e=""}switch(e){case"gz":return"TAR.GZ";default:return e.toUpperCase()}},getOS:function(){return navigator.appVersion.indexOf("Mac")!=-1?"Mac":navigator.appVersion.indexOf("X11")!=-1||navigator.appVersion.indexOf("Linux")!=-1?"Unix":"Windows"},select2:function(i){i.length&&t.getScript(e.constants.libPath+"select2/select2.min.js").done(function(){i.select2({minimumResultsForSearch:-1})})},underscore:function(i){var n=t.Deferred();"undefined"==typeof _?n=t.getScript(e.constants.libPath+"underscore/underscore-min.js"):n.resolve(),t.when(n).then(i)},retrieveData:function(t,e,i,n){var a=this,s=i.params.downloadInfo.Default||[],o=i.params.downloadInfo.Mac||[],r=i.params.downloadInfo.Unix||[],l=i.params.downloadInfo.Windows||[];i.data={Default:[],Mac:[],Unix:[],Windows:[]},_.each(t,function(t){t.platform.indexOf("Mac")>-1&&a.cloneData("Mac",o,t,i,n),t.platform.indexOf("Unix")>-1&&a.cloneData("Unix",r,t,i,n),t.platform.indexOf("Windows")>-1&&a.cloneData("Windows",l,t,i,n),a.cloneData("Default",s,t,i,n)}),e(i)},cloneData:function(t,e,i,n,a){var s=this;e.length>0&&_.each(e,function(e){if(i.description.indexOf(e.descriptionKey)>-1){var o=_.clone(i),r=s.getFileExtension(o.zipUrl);if("none"!==e.fileExtension&&r!==e.fileExtension)return!0;switch(a){case"update":o.show=e.includeUpdate;break;case"enterprise":o.show=e.includeEnterprise;break;default:o.show=e.includeDownload}o.displayName=e.descriptionValue,o.selected=e.selected,o.os=e.os,o.fileExtension=r,n.data[t].push(o)}})},changeDownload:function(e,i){var n=this;e.change(function(){n.changeDownloadLink(t(this).val(),i)})},changeDownloadLink:function(t,e){e.attr("href",t)},download:function(t,e){var i,n=t.parents("#download-area"),a=n.next("#post-download-area"),s=a.find(".button");e.on("click",function(){i=this.href,a.length>0&&("{{installer}}"===s.attr("href")&&s.attr("href",i),n.addClass("inactive"),a.addClass("active"))})}}}(jQuery),function(t){var e,i=window.imkt||(window.imkt={});i.common=i.common||{},i.common.Download=function(n,a){return this.$domRoot=t(n),this.params=t.extend({},{},a),window.downloads=function(t){e=t},this.data,this.dropdown,this.downloadLink,i.common.DownloadHelper.underscore(this.init.bind(this)),this},i.common.Download.prototype={init:function(){this.params.downloadInfo=_.groupBy(this.params.downloadInfo,"os"),this.getJSON()},getJSON:function(){var n=this;t.ajax({url:n.params.productJSON,dataType:"jsonp",crossDomain:!0,timeout:5e3,cache:!0}).always(function(a){200===a.status&&(i.common.DownloadHelper.retrieveData(e,n.initialEvents,n,n.params.pageType),t(".aui-icon.loading").hide())})},getTemplate:function(e){switch(e){case"download":var n=_.template(t("#download-template").html());t("#download-view").html(n({downloads:this.data,os:i.common.DownloadHelper.getOS()}));break;default:return!1}this.dropdown=this.$domRoot.find("#select-product-version"),this.downloadLink=this.$domRoot.find("#downloads-button")},initialEvents:function(t){t.getTemplate("download"),i.common.DownloadHelper.select2(t.dropdown),i.common.DownloadHelper.changeDownload(t.dropdown,t.downloadLink),i.common.DownloadHelper.download(t.$domRoot,t.downloadLink),t.dropdown.trigger("change")}}}(jQuery),function(t){var e,i=window.imkt||(window.imkt={});i.common=i.common||{},i.common.DownloadArchives=function(n,a){return this.$domRoot=t(n),this.params=t.extend({},{},a),window.downloads=function(t){e=t},this.data,this.downloadLink,i.common.DownloadHelper.underscore(this.init.bind(this)),this},i.common.DownloadArchives.prototype={init:function(){this.getJSON()},getJSON:function(){var i=this;t.ajax({url:i.params.productJSON,dataType:"jsonp",crossDomain:!0,timeout:5e3,cache:!0}).always(function(n){200===n.status&&(i.retrieveData(e),t(".aui-icon.loading").hide())})},getTemplate:function(e){switch(e){case"download":var i=_.template(t("#download-archive-template").html());t("#download-archive-view").html(i({downloads:this.data}));break;default:return!1}this.downloadLink=this.$domRoot.find(".download-link")},retrieveData:function(t){this.data=t,_.each(this.data,function(t){t.extension=i.common.DownloadHelper.getFileExtension(t.zipUrl)}),this.getTemplate("download"),i.common.DownloadHelper.download(this.$domRoot,this.downloadLink)}}}(jQuery),function(t){var e,i=window.imkt||(window.imkt={});i.common=i.common||{},i.common.Update=function(n,a){return this.$domRoot=t(n),this.params=t.extend({},{},a),window.downloads=function(t){e=t},this.data,this.dropdown,this.downloadLink,this.modal=this.$domRoot.prev("#modal-view"),this.url=this.params.productCurrentJSON,this.firstRequestLoaded=!1,this.sortedList=[],this.indexedList,this.updatedList,this.modalContainer,i.common.DownloadHelper.underscore(this.init.bind(this)),this},i.common.Update.prototype={init:function(){this.params.downloadInfo=_.groupBy(this.params.downloadInfo,"os"),this.getJSON()},getJSON:function(){var i=this;t.ajax({url:i.url,dataType:"jsonp",crossDomain:!0,timeout:5e3,cache:!0}).always(function(n){200===n.status&&(i.retrieveDataSet(e),i.firstRequestLoaded===!0&&t(".aui-icon.loading").hide())})},bindEvents:function(){var e=this;this.modal.on("click",".major-version-item",function(e){t(".major-version-item").not(this).removeClass("active"),t(this).toggleClass("active")}).on("click",".minor-version-item",function(i){var n=t(this),a=n.attr("data-major-version"),s=n.attr("data-minor-version");return e.updatedList=_.toArray(e.indexedList[a][s])[0][0],e.getTemplate("modal"),t(window).trigger("resize"),!1}).on("click",".version-placeholder",function(e){var i=t(this).prev(".major-version-list");i.toggleClass("active"),t(this).toggleClass("active")}).on("click",".product-versions",function(i){var n=t(this),a=n.attr("data-major-version"),s=n.attr("data-minor-version"),o=n.attr("data-version");return e.updatedList=e.indexedList[a][s][o][0],e.getTemplate("modal"),!1}).on("click","#chooseVersion",function(t){i.common.DownloadHelper.retrieveData(e.updatedList.downloads,e.initialEvents,e),e.getTemplate("all-versions")}),t("body").on("click","#all-versions-view",function(t){e.modalContainer||(e.modalContainer=new i.ui.Modal({modalType:"update wpl",contentClickToHide:!1}),e.modalContainer.$modal.find(".modal-content").html(e.modal),e.modalContainer.show(),e.modal.show()),e.modalContainer.show(),e.modalContainer.place()})},unbindEvents:function(){this.modal.unbind("click")},getTemplate:function(e){switch(e){case"download":var n=_.template(t("#download-template").html());t("#download-view").html(n({downloads:this.data,os:i.common.DownloadHelper.getOS()}));break;case"modal":var n=_.template(t("#modal-template").html());t("#modal-view").html(n({downloads:this.indexedList,activeVersion:this.updatedList}));break;case"all-versions":var n=_.template(t("#all-versions-template").html());t("#all-versions-view").html(n({product:this.updatedList}));break;default:return!1}this.dropdown=this.$domRoot.find("#select-product-version"),this.downloadLink=this.$domRoot.find("#downloads-button")},retrieveDataSet:function(t){this.firstRequestLoaded===!1?(this.data=t,this.url=this.params.productArchivedJSON,this.firstRequestLoaded=!0,this.getJSON()):(this.data=this.data.concat(t),this.addMetaData(this.data))},addMetaData:function(t){var e;_.each(t,function(t){try{e=t.version.split("."),t.majorVersion=e[0],t.minorVersion=e[0]+"."+e[1],t.extension=i.common.DownloadHelper.getFileExtension(t.zipUrl)}catch(n){t.majorVersion=t.version,t.minorVersion=t.version,t.extension=i.common.DownloadHelper.getFileExtension(t.zipUrl)}}),this.arrangeData(t)},arrangeData:function(t){var e=this;t=_.toArray(_.groupBy(t,"version")),_.each(t,function(t){var i=_.first(t),n={product:e.params.productName,version:i.version,majorVersion:i.majorVersion,minorVersion:i.minorVersion,released:i.released,releaseNotes:i.releaseNotes,downloads:t};e.sortedList.push(n)}),this.indexList(),this.updatedList=_.first(this.sortedList),i.common.DownloadHelper.retrieveData(this.updatedList.downloads,this.initialEvents,this,"update")},indexList:function(){var t=_.groupBy(this.sortedList,"majorVersion");_.each(t,function(e,i){e=_.groupBy(e,"minorVersion"),_.each(e,function(t,i){t=_.groupBy(t,"version"),e[i]=t}),t[i]=e}),this.indexedList=t},initialEvents:function(t){t.getTemplate("download"),t.getTemplate("modal"),t.getTemplate("all-versions"),i.common.DownloadHelper.select2(t.dropdown),i.common.DownloadHelper.changeDownload(t.dropdown,t.downloadLink),i.common.DownloadHelper.download(t.$domRoot,t.downloadLink),t.dropdown.trigger("change"),t.unbindEvents(),t.bindEvents()}}}(jQuery),function(t){var e=window.imkt||(window.imkt={});e.customers=e.customers||{},e.customers.CustomerFiltering=function(i,n){var a=t.Deferred();return this.$domRoot=t(i),this.params=t.extend({},{perPageCount:12},n),"undefined"==typeof _?a=t.getScript(e.constants.libPath+"underscore/underscore-min.js"):a.resolve(),t.when(a).then(this.init.bind(this)),this},e.customers.CustomerFiltering.prototype={init:function(){this.getInitialState(),this.preprocessData(),this.render(),this.bindEvents()},getInitialState:function(){var t=e.utils.url.getUrlParams()||{},i=this,n={};this.filterCategories={industries:{label:"Industries",groups:[]},productsUsed:{label:"Products",groups:[]},employees:{label:"Company size",groups:[]}},n=_.pick(t,function(t,e){return i.filterCategories.hasOwnProperty(e)}),this.state={filters:_.mapObject(n,function(t,e){return t.split(",")}),page:parseInt(t.page)||1,sortParam:t.sortParam||"date_created desc"}},getCustomersPaginated:function(t){var e=[],i=Math.ceil(t.length/this.params.perPageCount),n=0;for(n;n<i;n++)e.push(t.slice(n*this.params.perPageCount,(n+1)*this.params.perPageCount));return e},getCustomersSortedBy:function(t,e){var i=e.split(" "),n=i.length>1?i[1]:"asc";return t=_.sortBy(t,i[0]),"desc"===n&&t.reverse(),t},getCustomersFiltered:function(t){return _.filter(t,function(t){var e=!0;return _.each(_.keys(this.state.filters),function(i){e&&!_.isEmpty(this.state.filters[i])&&(e=_.intersection(this.state.filters[i],"string"==typeof t[i]?[t[i]]:t[i]).length,!e&&_.contains(this.state.filters[i],"has-addons")&&(e=t.addonsUsed&&t.addonsUsed.length))},this),e},this)},updateURL:function(){var t,i;window.history&&window.history.replaceState&&(t=_.clone(this.state.filters),_.each(_.keys(t),function(e){t[e].length||(t[e]=null)}),i=_.extend(t,_.pick(this.state,"page","sortParam")),window.history.replaceState(i,document.title,e.utils.url.addUrlParams(i)))},normalizePageNumber:function(){"undefined"!=typeof this.pageLength&&(this.state.page=Math.min(Math.max(1,this.state.page),this.pageLength))},render:function(){var t=this.getCustomersFiltered(this.params.allCustomers),e=this.getCustomersSortedBy(t,this.state.sortParam),i=this.getCustomersPaginated(e);this.pageLength=i.length,this.normalizePageNumber(),this.$domRoot.html(this.getTemplate("container")({state:this.state,filtersContent:this.getTemplate("filters")({filterCategories:this.filterCategories,state:this.state}),customersContent:this.getTemplate("customersPaged")({pages:i,currentPage:this.state.page,customerTile:this.getTemplate("customerTile")})})),this.updateURL()},bindEvents:function(){var i=this;this.$domRoot.on("click","[data-filter-type][data-filter-value]",function(e){var n=t(e.currentTarget),a=n.attr("data-filter-type"),s=n.attr("data-filter-value"),o={};e.preventDefault(),s="*"===s?i.state.filters[a]:s.split(","),o[a]=s,i.action_toggleFilter(o)}).on("click","[data-sort-by]",function(e){e.preventDefault(),i.action_applySort(t(e.currentTarget).attr("data-sort-by"))}).on("click","[data-pagination-control]",function(e){var n=t(e.currentTarget);if(e.preventDefault(),!n.hasClass("disabled"))switch(n.attr("data-pagination-control")){case"previous":i.action_pageTransition(!1);break;case"next":i.action_pageTransition(!0)}}).on("click",".customer-filter-category h4",function(n){var a,s,o=t(n.currentTarget),r="active";e.core.is.mobile()&&(a=o.closest(".customer-filter-category"),s=a.attr("data-filter-category"),i.filterCategories[s].active=!i.filterCategories[s].active,i.filterCategories[s].active?a.addClass("animating").find("ul").slideDown(200,function(){t(this).addClass(r)}):a.removeClass("animating").find("ul").slideUp(200,function(){t(this).removeClass(r)}))})},registerStateChange:function(){this.pendingStateChange||(this.pendingStateChange=!0,setTimeout(this.stateChange.bind(this),0))},stateChange:function(){this.render(),this.pendingStateChange=!1},filterChange:function(){this.state.page=1},action_applySort:function(t){this.state.sortParam=t,this.registerStateChange()},action_applyFilter:function(t){_.each(_.keys(t),function(e){this.state.filters[e]=_.union(this.state.filters[e],t[e])},this),this.filterChange(),this.registerStateChange()},action_removeFilter:function(t){_.each(_.keys(t),function(e){this.state.filters[e]=_.difference(this.state.filters[e],t[e])},this),this.filterChange(),this.registerStateChange()},action_toggleFilter:function(t){_.each(_.keys(t),function(e){_.each(t[e],function(t){var i={};i[e]=[t],_.contains(this.state.filters[e],t)?this.action_removeFilter(i):this.action_applyFilter(i)},this)},this)},action_pageTransition:function(e){var i=t(".customer-page",this.$domRoot),n=i.eq(this.state.page-1);e?n.next():n.prev();this.state.page=e?this.state.page+1:this.state.page-1,this.normalizePageNumber(),this.registerStateChange()},preprocessData:function(){_.each(this.params.allCustomers,function(t,e){t.employees="1000plus"==t.employees?"1000+":t.employees,this.filterCategories.industries.groups=this.filterCategories.industries.groups.concat(_.map(t.industries,function(t){return{label:t,value:t}},this)),this.filterCategories.productsUsed.groups=this.filterCategories.productsUsed.groups.concat(_.map(t.productsUsed,function(t){return{label:t,value:t}},this)),this.filterCategories.employees.groups.push({label:t.employees,value:t.employees}),this.filterCategories.employees.groups=_.sortBy(this.filterCategories.employees.groups,function(t){return parseInt(t.value.split(" ")[0])});try{t.date_created=new Date(t["mgnl:created"]),t.date_modified=new Date(t["mgnl:lastModified"])}catch(i){}},this),_.each(_.keys(this.filterCategories),function(t){this.filterCategories[t].groups=_.uniq(_.compact(this.filterCategories[t].groups),function(t){return t.value})},this),this.filterCategories.industries.groups=_.sortBy(this.filterCategories.industries.groups,"label"),this.filterCategories.productsUsed.groups=_.sortBy(this.filterCategories.productsUsed.groups,"label")},getTemplate:function(t){return"function"!=typeof this.templates[t]&&(this.templates[t]=_.template(this.templates[t])),this.templates[t]},templates:{filters:'                <% _.each(_.keys(filterCategories), function(key){ %>                    <div class="customer-filter-category<% if(filterCategories[key].active){ %> active animating<% } %>" data-filter-category="<%= key %>">                        <h4><%= filterCategories[key].label %></h4>                        <ul>                            <li><a href="#" data-filter-type="<%= key %>" data-filter-value="*"<% if(_.isEmpty(state.filters[key])){ %> class="active"<% } %>>                              <% if(_.isEmpty(state.filters[key])){ %><span class="aui-icon aui-icon-small aui-iconfont-success"></span><% } %>All                            </a></li>                            <% _.each(filterCategories[key].groups, function(category){ %>                            <li><a href="#" data-filter-type="<%= key %>" data-filter-value="<%= category.value %>"<% if(_.contains(state.filters[key], category.value)){ %> class="active"<% } %>>                              <% if(_.contains(state.filters[key], category.value)){ %><span class="aui-icon aui-icon-small aui-iconfont-success"></span><% } %><%=category.label %>                            </a></li>                            <% }) %>              <% if(key === "productsUsed"){ %>              <li><a href="#" data-filter-type="<%= key %>" data-filter-value="has-addons"<% if(_.contains(state.filters[key], "has-addons")){ %> class="active"><span class="aui-icon aui-icon-small aui-iconfont-success"></span<% } %>>Atlassian Marketplace</a></li>              <% } %>                        </ul>                    </div>                <% }); %>            ',container:'                <div class="grid grid-12 vertical-gutters-standard tablet-grid-12 mobile-grid-3">                    <!-- left column with filters -->                    <div class="column colspan-3">                        <!-- filters go here -->                        <%= filtersContent %>                    </div>                    <!-- right column w/ customer tiles -->                    <div class="column colspan-9">                        <section class="flush">                            <div class="grid grid-3 vertical-gutters-small vertical-padding-small customers-content">                                <div class="column colspan-all customer-sort-buttons-container">                                    <a href="#" data-sort-by="date_created desc" class="sort-button<% if(state.sortParam === "date_created desc"){ %> active<% } %>">Most recent</a>                                    <a href="#" data-sort-by="_nodeName" class="sort-button<% if(state.sortParam === "_nodeName"){ %> active<% } %>">Alphabetical</a>                                </div>                                <%= customersContent %>                            </div>                        </section>                    </div>                </div>            ',customersPaged:'                <% if(pages.length){ %>\t\t\t\t\t<div class="column colspan-all gallery customers-gallery">\t                    <% _.each(pages, function(page, index){ %>\t                        <section class="flush customer-page<% if(index+1 === currentPage){ %> active<% } %>">\t                            <div class="grid grid-3 mobile-grid-2">\t                                <% _.each(page, function(customer){ %>\t                                    <div class="column colspan-1">\t                                        <%= customerTile(customer) %>\t                                    </div>\t                                <% }); %>\t                            </div>\t                        </section>\t                    <% }); %>\t                </div>\t                <div class="column colspan-all customers-pagination text-center">\t                    <a href="#" data-pagination-control="previous" class="pagination-button<% if(currentPage <= 1){ %> disabled<% } %>">< &nbsp; Previous</a>\t\t\t\t\t\t<span class="customers-pagination-label">Page <%=currentPage %> of <%= pages.length %></span>\t\t\t\t\t\t<a href="#" data-pagination-control="next" class="pagination-button<% if(currentPage >= pages.length){ %> disabled<% } %>">Next &nbsp; ></a>\t                </div>\t\t\t\t<% } else { %>\t\t\t\t\t<div class="column colspan-all customers-empty text-center">\t\t\t\t\t\t<h2>There are no customers matching your selections</h2>\t\t\t\t\t\t<p>Please change your selections to the left</p>\t\t\t\t\t</div>\t\t\t\t<% } %>            ',customerTile:'                <a href="<%= detailPageUrl %>" class="customer-tile column-link" title="View the <%= title %> customer story">                    <div class="customer-tile-img" style="background-image: url(<%= logoImage %>)"></div>                </a>            '}}}(jQuery),function(t){var e=window.imkt||(window.imkt={});e.customers=e.customers||{},e.customers.CustomerLogos=function(i,n){this.$domRoot=t(i),this.params=t.extend({},{},n),t.fn.gray?this.init():t.getScript(e.constants.libPath+"gray/js/jquery.gray.min.js",this.init.bind(this))},e.customers.CustomerLogos.prototype={init:function(){this.$customerLogoLinks=t(".customer-logo-link",this.$domRoot),this.bindEvents()},bindEvents:function(){this.$customerLogoLinks.find(".grayscale").gray()}}}(jQuery),function(t){var e=window.imkt||(window.imkt={});e.contentHub=e.contentHub||{},e.contentHub.Overview=function(i,n){var a=t.Deferred();return this.domRoot=t(i),this.params=t.extend({},{},n),this.filters={topics:[],types:[]},this.articleLimit=9,this.articleShowCount=0,"undefined"==typeof _?a=t.getScript(e.constants.libPath+"underscore/underscore-min.js"):a.resolve(),t.when(a).then(this.init.bind(this)),this},e.contentHub.Overview.prototype={init:function(){this.sortArticleData(),this.initialState(),this.updateFilters(),this.allFilter(),this.showMore()},sortArticleData:function(){t.each(this.params.articles,function(t,e){e.lastModified=moment(new Date(e.lastModified)).format("YYYY-MM-DD hh:mm:ss")});var e=_.sortBy(this.params.articles,"lastModified");this.params.articles=e.reverse()},getTemplate:function(e){
switch(e){case"articles":var i=_.template(t("#articles-template").html());t("#articles-view").html(i({articles:this.params.articles,noResults:this.params.noResults}));break;case"filters":var i=_.template(t("#filters-template").html());t("#filters-view").html(i({types:this.params.types,topics:this.params.topics,filters:this.filters}))}},initialState:function(){var t=e.utils.url.getUrlParams();null!==t&&(this.filters.topics=void 0===t.topics?[]:t.topics.split(","),this.filters.types=void 0===t.types?[]:t.types.split(",")),this.getTemplate("filters"),this.filterArticles()},displayArticles:function(){this.limit(),this.getTemplate("articles"),this.articleHover(),this.ellipsis()},clearFilters:function(e){this.filters[e]=[],this.updateURL(),this.filterArticles();var i=t(".filter-item.filter-topic"),n=t(".filter-item.filter-type");"topics"===e&&this.unCheckFilter(i),"types"===e&&this.unCheckFilter(n)},checkFilter:function(t){t.addClass("selected"),t.find("input").prop("checked",!0)},unCheckFilter:function(t){t.removeClass("selected"),t.find("input").prop("checked",!1)},allState:function(){var e=t(".no-filter.filter-topic"),i=t(".no-filter.filter-type");this.filters.topics.length?this.unCheckFilter(e):this.checkFilter(e),this.filters.types.length?this.unCheckFilter(i):this.checkFilter(i)},allFilter:function(){var e=this,i=t("li.no-filter").find("input");i.on("change",function(i){var n=t(i.currentTarget),a=n.closest("li"),s=a.hasClass("filter-topic")?"topics":"types";e.clearFilters(s)})},filterArticles:function(){var e=this;if(this.filters.topics.length||this.filters.types.length)this.filters.topics.length&&!this.filters.types.length?t.each(this.params.articles,function(t,i){e.filters.topics.indexOf(i.topic)!==-1?i.show=!0:i.show=!1}):!this.filters.topics.length&&this.filters.types.length?t.each(this.params.articles,function(t,i){e.filters.types.indexOf(i.type)!==-1?i.show=!0:i.show=!1}):t.each(this.params.articles,function(t,i){i.show=!1,e.filters.types.indexOf(i.type)!==-1&&e.filters.topics.indexOf(i.topic)!==-1&&(i.show=!0)});else{var i=0;t.each(this.params.articles,function(t,e){i+=parseInt(e.doubleColumn),e.show=!0})}this.allState(),this.displayArticles()},addRemoveFilters:function(e,i){if(t.inArray(i,this.filters[e])>-1){var n=this.filters[e].indexOf(i);this.filters[e].splice(n,1)}else this.filters[e].push(i)},updateURL:function(){var t=e.utils.url.getBareUrl(),i={};this.filters.topics.length&&(i.topics=this.filters.topics.join()),this.filters.types.length&&(i.types=this.filters.types.join()),t=e.utils.url.addUrlParams(i,t),window.history&&window.history.replaceState&&window.history.replaceState(i,document.title,t)},updateFilters:function(){var e=this,i=this.domRoot.find(".filter-item");this.domRoot.find(".no-filter");i.on("change",function(i){var n=t(i.currentTarget),a=n.closest("li"),s=a.find("input[type=checkbox]").attr("id"),o=a.hasClass("filter-topic")?"topics":"types";a.hasClass("selected")?a.removeClass("selected"):a.addClass("selected"),e.addRemoveFilters(o,s),e.articleLimit=9,e.filterArticles(),e.updateURL()})},limit:function(){var e=this,i=0;t.each(this.params.articles,function(t,n){n.show===!0&&(n.doubleColumn=n.originalColumnWidth,i%3==2&&0!=i&&(n.doubleColumn=1),i+=parseInt(n.doubleColumn),n.show=i<=e.articleLimit)}),this.articleShowCount=i,this.articleShowCount<=this.articleLimit?this.domRoot.find("#show-more").addClass("inactive"):this.domRoot.find("#show-more").removeClass("inactive")},increaseLimit:function(){this.articleLimit=this.articleLimit+9},showMore:function(){var t=this;this.domRoot.find("#show-more").click(function(){t.increaseLimit(),t.filterArticles()})},articleHover:function(){this.domRoot.find(".article-column").hover(function(){t(this).find(".article-column__description").addClass("active")},function(){t(this).find(".article-column__description").removeClass("active")})},ellipsis:function(){this.domRoot.find(".article-column__description div p, .article-title").dotdotdot()}}}(jQuery),function(t){var e=window.imkt||(window.imkt={});e.contentHub=e.contentHub||{},e.contentHub.Featured=function(i,n){var a=t.Deferred();return this.domRoot=t(i),this.params=t.extend({},{},n),"undefined"==typeof _?a=t.getScript(e.constants.libPath+"underscore/underscore-min.js"):a.resolve(),t.when(a).then(this.init.bind(this)),this},e.contentHub.Featured.prototype={init:function(){"true"===this.params.recommended&&this.getTemplate("recommended"),this.articleHover(),this.ellipsis()},articleHover:function(){this.domRoot.find(".article-column").hover(function(){t(this).find(".article-column__description").addClass("active")},function(){t(this).find(".article-column__description").removeClass("active")})},ellipsis:function(){this.domRoot.find(".article-column__description div p, .article-title").dotdotdot()},getTemplate:function(e){switch(e){case"recommended":var i=""!=t.trim(t("#recommended-heading").html())?t("#recommended-heading").html():"<h5>You might also enjoy</h5>",n=_.template(t("#recommended-template").html()),a=_.shuffle(this.params.articles).slice(0,3);t("#recommended-view").html(n({articles:a,heading:i}))}}}}(jQuery),function(t){var e=window.imkt||(window.imkt={});e.ui=e.ui||{},e.ui.Accordion=function(e,i){this.$domRoot=t(e),this.params=t.extend({},{},i),this.$accordionHeading=this.$domRoot.find(".imkt-accordion--heading"),this.$accordionContent=this.$domRoot.find(".imkt-accordion--content"),this.init()},e.ui.Accordion.prototype={init:function(){this.bindEvents()},bindEvents:function(t){var e=this;this.$accordionHeading.on("click",function(t){e.$domRoot.toggleClass("closed")})}}}(jQuery),function(t){var e=window.imkt||(window.imkt={});e.ui=e.ui||{},e.ui.Carousel=function(e,i){this.$domRoot=t(e),this.params=t.extend({},{},i),this.$paneCount=this.$domRoot.find(".grid").length,this.$paneNumber=this.$domRoot.find(".section-carousel__pane.active").attr("data-pane-number"),this.$carouselPanes=this.$domRoot.find(".section-carousel__pane"),this.$state=[],this.$endOfLoop,this.init()},e.ui.Carousel.prototype={init:function(){t(this.$domRoot).find(".section-carousel__heading--nav").append('<div class="carousel-counter-wrap"><span class="pane-counter"><span class="pane-count">'+this.$paneNumber+"</span> of "+this.$paneCount+'</span><span class="carousel-navigation-control previous"><</span><span class="carousel-navigation-control next">></span></div>'),this.$nav=this.$domRoot.find(".carousel-navigation-control");this.initialState()},initialState:function(){for(var t=this,e=t.$carouselPanes.length,i=0;i<e;i++){var n=0===i?"active":"right",a=0!==i,s=i!==e-1,o={pane:t.$carouselPanes[i],position:n,wherefrom:n,paneNumber:i+1,hasPrevious:a,hasNext:s};this.$state.push(o)}t.navClicked()},navClicked:function(){var e=this;e.$nav.on("click",function(i){var n=t(this).hasClass("next")?"next":"previous";"next"===n?(e.$domRoot.addClass("next").removeClass("previous"),e.changePane("hasNext","left",1)):(e.$domRoot.addClass("previous").removeClass("next"),e.changePane("hasPrevious","right",-1)),e.updateCounter()})},changePane:function(e,i,n){if("true"===this.params.loop)"left"===i?this.changePaneLoop("hasNext","left","right",1,"end"):this.changePaneLoop("hasPrevious","right","left",-1,"start");else{for(var a=0,s=this.$state.length;a<s;){if("active"===this.$state[a].position&&this.$state[a][e]===!0){this.$state[a].position=i,this.$state[a+n].position="active";break}a+=1}t.each(this.$state,function(e,i){t(i.pane).removeClass("active left right").addClass(i.position)})}},changePaneLoop:function(e,i,n,a,s){var o,r,l=this,d=0,c=this.$state.length;for("end"===s?(o=0,r=c-1):(o=c-1,r=0);d<c;){if("active"===this.$state[d].position&&this.$state[d][e]===!0){this.$state[d].position=i,this.$state[d+a].position="active",this.$endOfLoop===!0?(this.$state[r].position=n,this.$endOfLoop=!1):(this.$endOfLoop===!1&&(this.$state[o].position=n),this.$endOfLoop=!1);break}if("active"===this.$state[d].position&&this.$state[d][e]===!1){for(var u=0;u<c;u++)this.$state[u].position=n;this.$state[o].position="active",l.$endOfLoop=!0;break}d+=1}this.$endOfLoop===!0&&(this.$state[r].position=i),t.each(l.$state,function(e,i){t(i.pane).removeClass("active left right").addClass(i.position)})},updateCounter:function(){this.$paneNumber=this.$domRoot.find(".section-carousel__pane.active").attr("data-pane-number"),this.$domRoot.find(".pane-count").html(this.$paneNumber)}}}(jQuery),function(t){var e=window.imkt||(window.imkt={});e.ui=e.ui||{},e.ui.CountdownTimer=function(i,n){this.domRoot=t(i),this.params=t.extend({},{},n);var a=t.Deferred();return this.$domRoot=t(i),this.params=t.extend({},{},n),"undefined"==typeof jQuery().countdown?a=t.getScript(e.constants.libPath+"jquery.countdown/dist/jquery.countdown.min.js"):a.resolve(),t.when(a).then(this.init.bind(this)),this},e.ui.CountdownTimer.prototype={constants:{},init:function(){this.render()},render:function(){var e=this.params.finalDate,i=t("#"+this.params.id);i.countdown(e,function(t){i.html(t.strftime('<div class="imkt-countdown-timer__wrapper"><span class="imkt-countdown-timer__digit">%D</span><span class="imkt-countdown-timer__label">Days</span></div><div class="imkt-countdown-timer__wrapper"><span class="imkt-countdown-timer__digit">%H</span><span class="imkt-countdown-timer__label">Hours</span></div><div class="imkt-countdown-timer__wrapper"><span class="imkt-countdown-timer__digit">%M</span><span class="imkt-countdown-timer__label">Minutes</span></div><div class="imkt-countdown-timer__wrapper"><span class="imkt-countdown-timer__digit">%S</span><span class="imkt-countdown-timer__label">Seconds</span></div>'))})}}}(jQuery),function(t){var e=window.imkt||(window.imkt={});e.ui=e.ui||{},e.ui.Modal=function(i){return this.params=t.extend({},{modalType:"dialog",centerVertically:!0,modalContainer:document.body,fixed:!0,id:e.utils.general.randomString(8),contentClickToHide:!0},i),this.init(),this},e.ui.Modal.prototype={init:function(){this.$overlay=this.build(),this.$overlayContainer=this.params.fixed?t(window):this.$overlay.parent(),this.$modal=t(".modal",this.$overlay).addClass(this.params.modalType),this.$modalContent=t(".modal-content",this.$modal),this.$closeLink=t(".close",this.$modal)},aboveClass:"above",centerModal:function(){var e=this;this.$modal.css({margin:"0 auto",top:function(i,n){return Math.max((e.$overlayContainer.outerHeight()-t(this).outerHeight())/2,0)}})},bindModalEvents:function(){t(window).onThrottled("resize."+this.params.id,t.proxy(function(t){this.place()},this)),t(document).on("keyup."+this.params.id,t.proxy(function(t){27===t.which&&this.hide()},this)),this.$overlay.on("click."+this.params.id,t.proxy(function(e){if(this.isVisible){var i=t(e.target).closest(".modal-content").length;(this.params.contentClickToHide||!this.params.contentClickToHide&&!i)&&this.hide()}},this)),this.$modal.on("click","[data-dismiss='modal']",t.proxy(function(t){t.preventDefault(),this.hide()},this)),t("iframe, img",this.$modal).on("load",function(e){t(e.currentTarget).is("iframe")?setTimeout(this.place.bind(this),100):this.place()}.bind(this))},unbindModalEvents:function(){t(window).off("resize."+this.params.id),t(document).off("keyup."+this.params.id)},build:function(){return t("<div class='overlay' tabindex='-1' role='dialog'><div class='modal'><a href='#' class='close aui-icon aui-icon-large aui-iconfont-remove-label' data-dismiss='modal'></a><div class='modal-content'></div></div></div>").attr("id",this.params.id)},show:function(){this.isVisible||(t(this.params.modalContainer).addClass("modal-open"),this.insert(),this.$overlay.addClass("in").trigger("modal.show").delay(200).trigger("modal.shown"),this.isVisible=!0,this.place())},hide:function(){this.isVisible&&(this.$overlay.removeClass("in").trigger("modal.hide").delay(200).trigger("modal.hidden"),this.isVisible=!1,t(this.params.modalContainer).removeClass("modal-open"))},place:function(){var e,i;this.params.fixed&&this.$overlay.css({width:t(window).width(),height:t(window).height()}),this.params.centerVertically&&this.centerModal(),e=this.$closeLink.offset().left+this.$closeLink.outerWidth()>this.$overlay.offset().left+this.$overlay.outerWidth(),i=this.$overlay.outerWidth()-(this.$modal.offset().left+this.$modal.outerWidth())>this.$closeLink.outerWidth(),!this.$closeLink.hasClass(this.aboveClass)&&e?this.$closeLink.addClass(this.aboveClass):i&&this.$closeLink.removeClass(this.aboveClass),this.$overlay.trigger("modal.place")},insert:function(){this.inserted||(this.$overlay.appendTo(this.params.modalContainer).trigger("modal.insert"),this.bindModalEvents(),this.inserted=!0)},remove:function(){this.$overlay.trigger("modal.remove").remove(),this.unbindModalEvents(),this.inserted=!1}}}(jQuery),function(t){var e=window.imkt||(window.imkt={});e.ui=e.ui||{},e.ui.ModalLink=function(e,i){this.domRoot=t(e),this.params=t.extend({},{},i),this.$modalLink=this.domRoot.find(".modal-link"),this.$modalContent=this.domRoot.find(".modal-content"),this.init()},e.ui.ModalLink.prototype={init:function(){this.domRoot.on("click",t.proxy(this.onclick,this)),this.modal||(this.modal=new e.ui.Modal({modalType:"dialog",contentClickToHide:!1}),this.modal.$modalContent.html(this.$modalContent.html()),this.$modalContent.remove())},onclick:function(t){t.preventDefault(),this.modal.show(),this.modal.place()}}}(jQuery),function(t){var e=window.imkt||(window.imkt={});e.ui=e.ui||{},e.ui.ModalImage=function(e,i){this.domRoot=t(e),this.params=t.extend({},{},i),this.$modalImage=this.domRoot.find(".imkt-image-modal"),this.$modalImageSrc=this.$modalImage.attr("src"),this.$modalContent='<img src="'+this.$modalImageSrc+'" />',this.init()},e.ui.ModalImage.prototype={init:function(){this.$modalImage.on("click",t.proxy(this.onclick,this)),this.modal||(this.modal=new e.ui.Modal({modalType:"image",contentClickToHide:!1}),this.modal.$modalContent.html(this.$modalContent),this.modal.$overlay.addClass("image-overlay"))},onclick:function(t){t.preventDefault(),this.modal.show(),this.modal.place()}}}(jQuery),function(t){var e=window.imkt||(window.imkt={});e.ui=e.ui||{},e.ui.Navbar=function(e,i){this.domRoot=t(e),this.params=t.extend({},{},i),this.$navbar=this.domRoot,this.$navbarMainSection=t(".imkt-navbar__main-section",this.$navbar),this.$titleWrapper=t(".imkt-navbar__title-wrapper",this.$navbarMainSection),this.$charlieLogo=t(".imkt-navbar__charlie-logo-link",this.$titleWrapper),this.$linkList=t(".imkt-navbar__link-list",this.$navbarMainSection),this.$titleLink=t(".imkt-navbar__title-link",this.$titleWrapper),this.$navbarToggle=t("#jsToggleNavbarMenu",this.$titleWrapper),this.$navbarButton=t(".button",this.$navbarMainSection),this.$collapsedSection=t(".imkt-navbar__collapsed-section",this.$navbar),this.navContentsWidth=0,this.$navbar.hasClass("imkt-navbar__default")&&this.$linkList.length&&this.init()},e.ui.Navbar.prototype={constants:{CHARLIE_LOGO_WIDTH:36,NAVBAR_COLLAPSED_CLASS:"imkt-navbar__collapsed",NAVBAR_COLLAPSED_OPEN_CLASS:"imkt-navbar__collapsed--open"},init:function(){var e=this;t(document).on("font-face-applied",function(){"true"==e.params.hasCharlie&&e.$charlieLogo.length&&e.setLogoTitleWidth(),e.getNavContentsWidth(),e.setNavbarDisplayMode()}),this.bindEvents()},bindEvents:function(){var e=this;t(window).onThrottled("resize",function(){e.setNavbarDisplayMode()}),this.$navbarToggle.on("click",function(){e.toggleCollapsedNavbar()})},isMobile:function(){return t(window).width()<=e.constants.mobileBreakpoint},toggleCollapsedNavbar:function(){this.$navbar.toggleClass(this.constants.NAVBAR_COLLAPSED_OPEN_CLASS),this.$collapsedSection.slideToggle()},getNavContentsWidth:function(){var e=this;this.navContentsWidth=50,this.navContentsWidth+=this.$titleWrapper.width(),t.each(this.$linkList.children("li"),function(){var i=t(this);e.navContentsWidth+=i.outerWidth(!0)}),this.$navbarButton.length&&(this.navContentsWidth+=this.$navbarButton.width()),this.$navbarToggle.length&&(this.navContentsWidth+=this.$navbarToggle.outerWidth(!0))},setLogoTitleWidth:function(){var t=this.$titleLink.clone().find("span").css({fontSize:"24px",opacity:0,position:"absolute",visibility:"hidden"}),e=this.$titleLink.clone().find("span").css({fontSize:"18px",opacity:0,position:"absolute",visibility:"hidden"});this.$titleWrapper.after(t,e);var i=t.outerWidth(!0);t.remove();var n=e.outerWidth(!0)+this.constants.CHARLIE_LOGO_WIDTH;e.remove(),i>=n?this.$titleWrapper.width(i):this.$titleWrapper.width(n)},setNavbarDisplayMode:function(){if(this.isMobile())this.$navbar.addClass(this.constants.NAVBAR_COLLAPSED_CLASS);else{var t=this.$navbarMainSection.find(".column").width();t<this.navContentsWidth?this.$navbar.addClass(this.constants.NAVBAR_COLLAPSED_CLASS):(this.$navbar.removeClass(this.constants.NAVBAR_COLLAPSED_CLASS),this.$navbar.hasClass(this.constants.NAVBAR_COLLAPSED_OPEN_CLASS)&&this.toggleCollapsedNavbar())}}}}(jQuery),function(t){var e=window.imkt||(window.imkt={});e.ui=e.ui||{},e.ui.SectionSubPageContent=function(i,n){if(this.domRoot=t(i),this.params=t.extend({},{},n),!this.params.disableAjax&&e.utils.history.supportsHistory()){this.ajaxQueue=[],this.contentSwapIds=["imkt-swap-container"];var a=this;this.params.additionalIds.length&&(this.params.additionalIds=this.params.additionalIds.split(", "),t.each(this.params.additionalIds,function(t,e){a.contentSwapIds.push(e)})),this.contentLoadedClass="imkt-swap-content-loaded",this.$navigation=this.domRoot.find(".imkt-swap-navigation"),this.contentRels={},this.init()}},e.ui.SectionSubPageContent.prototype={init:function(){var e=this;this.$navigation.find("a.imkt-swap-navigation-link").each(function(i){var n=t(this),a=n.attr("rel"),s=n.attr("href"),o=n.text(),r=n.data("title");e.contentRels[a]={title:o,metaTitle:r,href:s,contentDivs:e.loadContentDivs(s,e.contentSwapIds,function(){n.addClass(e.contentLoadedClass)})}}),e.bindEvents()},loadContentDivs:function(e,i,n){var a=this,s={};return a.ajaxQueue.push(t.ajax({url:e,cache:!0}).done(function(e){var a="";t.each(i,function(i,n){a=t("#"+n,e).html(),s[n]={html:a}}),n()})),s},bindEvents:function(){var i=this;this.$navigation.find("a.imkt-swap-navigation-link").on("click",function(n){var a=t(this),s=a.attr("rel"),o=a.attr("data-title");a.hasClass(i.contentLoadedClass)?(n.preventDefault(),document.title=o,e.utils.history.pushState("",o,a.attr("href")),i.$navigation.find("a.imkt-swap-navigation-link").removeClass("active"),a.addClass("active"),t.each(i.contentSwapIds,function(e,n){var a=i.contentRels[s],o=a.contentDivs[n].html;t("#"+n).html(o)})):t.each(i.ajaxQueue,function(t,e){e.abort()})})}}}(jQuery),function(t){var e=window.imkt||(window.imkt={});e.ui=e.ui||{},e.ui.Tabs=function(e,i){this.domRoot=t(e),this.params=t.extend({},{useScrolling:!1,noDefault:!1},i),this.init()},e.ui.Tabs.prototype={activeClass:"active",init:function(){this.menuLis=t(".tab-menu > li",this.domRoot),this.menuLinks=t("a",this.menuLis),this.tabSections=t(".tab-content"),this.menuLinks.filter("[data-additional-content]").each(function(e,i){var n=t(i);n.data("additionalContent",t(n.attr("data-additional-content")))}),this.bindEvents(),this.setInitialState()},activateByTabName:function(t){this.activateTab(this.menuLinks.filter("[data-name='"+t+"']"))},activateByTabIndex:function(t){this.activateTab(this.menuLinks.eq(t))},setInitialState:function(){var t=e.utils.url.getUrlParams();this.menuLinks.trigger("close.tab"),this.params.noDefault||(t&&t.tab?this.activateByTabName(t.tab):this.activateByTabIndex(0))},bindEvents:function(){this.menuLinks.on("click",t.proxy(this.onclick_menuLink,this)).on("open.tab",t.proxy(this.onopen_tab,this)).on("close.tab",t.proxy(this.onclose_tab,this))},onclick_menuLink:function(e){e.preventDefault(),this.activateTab(t(e.currentTarget))},onopen_tab:function(e){var i=t(e.currentTarget).data("additionalContent");i&&i.length&&i.show()},onclose_tab:function(e){var i=t(e.currentTarget).data("additionalContent");i&&i.length&&i.hide()},updateHistory:function(i){var n;if(e.core.supports.history()&&(n=i.attr("data-name"),"undefined"!=typeof n&&n!==!1)){var a=window.location.href,s=e.utils.url.getUrlParams(a);window.location.hash;s?s.tab=n:s={tab:n},window.history.replaceState(n,document.title,"?"+t.param(s)+window.location.hash)}},checkScrollPosition:function(){var e=this.domRoot.offset().top-30;t(window).scrollTop()<e&&t("body, html").scrollTop(e)},activateTab:function(t){var e="number"==typeof this.currentIndex?this.menuLinks.eq(this.currentIndex):null;t.length&&!t.is(e)&&(this.menuLis.removeClass(this.activeClass),t.closest("li").addClass(this.activeClass),this.tabSections.hide().filter(t.attr("href")).show(),this.currentIndex=this.menuLinks.index(t),this.params.useScrolling&&this.checkScrollPosition(),e&&e.trigger("close.tab"),t.trigger("open.tab"),this.updateHistory(t))}}}(jQuery),function(t){var e=window.imkt||(window.imkt={});e.ui=e.ui||{},e.ui.VideoLink=function(e,i){this.domRoot=t(e),this.params=t.extend({},{autoplay:1,modestbranding:1,rel:0,aspectRatio:16/9,addPlayButton:!1,buttonSize:"medium"},i),this.init()},e.ui.VideoLink.prototype={init:function(){e.core.is.mobile()||this.domRoot.on("click",t.proxy(this.onclick,this))},onclick:function(t){this.params.behavior&&this.behaviors.hasOwnProperty(this.params.behavior)&&(t.preventDefault(),this.behaviors[this.params.behavior].call(this))},getVideoEmbed:function(){if(this.params.source&&this.sources.hasOwnProperty(this.params.source))return this.sources[this.params.source].call(this)},getVideoDimensions:function(t){var e={height:null,width:null};return t.outerWidth()/t.outerHeight()>this.params.aspectRatio?(e.top=0,e.height=Math.round(t.outerHeight()),e.width=Math.round(e.height*this.params.aspectRatio)):(e.width=Math.round(t.outerWidth()),e.height=Math.round(e.width/this.params.aspectRatio),e.top=Math.round((t.outerHeight()-e.height)/2)),e},pauseVideo:function(){"youtube"===this.params.source?(this.issueYoutubeCommand("pauseVideo"),this.$videoPlayer.removeAttr("id")):"vimeo"===this.params.source&&this.issueVimeoCommand("pause")},playVideo:function(){"youtube"===this.params.source?(this.issueYoutubeCommand("playVideo"),this.$videoPlayer.attr("id","youtube-video-active")):"vimeo"===this.params.source&&this.issueVimeoCommand("play")},issueYoutubeCommand:function(t){var e;this.$videoPlayer&&this.$videoPlayer.length&&(e=this.$videoPlayer[0].contentWindow,e.postMessage('{"event":"command","func":"'+t+'","args":""}',"*"))},issueVimeoCommand:function(t){var e;this.$videoPlayer&&this.$videoPlayer.length&&(e=this.$videoPlayer[0].contentWindow,e.postMessage('{"method":"'+t+'","value":""}',"*"))},placeVideo:function(t,e,i,n){this.$videoPlayer.css({width:t,height:e}).addClass(n),this.modal.$modal.css({top:i})},placeSectionVideo:function(){if(this.modal.$overlay){var t=this.getVideoDimensions(this.modal.$overlay);this.placeVideo(t.width,t.height,Math.max(0,t.top))}},placeModalVideo:function(){if(this.modal.$modal){var t=this.modal.$modal.width();this.placeVideo(t,t/this.params.aspectRatio),this.modal.centerModal()}},bindModalEvents:function(){this.modal.$overlay.on("modal.shown",t.proxy(this.playVideo,this)).on("modal.hide",t.proxy(this.pauseVideo,this))},behaviors:{overlaySection:function(){this.modal||(this.modal=new e.ui.Modal({modalType:"video",fixed:!1,centerVertically:!1,modalContainer:this.domRoot.closest("section"),id:this.params.videoId}),this.bindModalEvents(),this.$videoPlayer=this.getVideoEmbed(),this.modal.$modalContent.html(this.$videoPlayer),this.modal.$overlay.on("modal.place",t.proxy(this.placeSectionVideo,this)).on("modal.show",t.proxy(function(t){this.modal.params.modalContainer.addClass("modal-video")},this)).on("modal.hide",t.proxy(function(t){this.modal.params.modalContainer.removeClass("modal-video")},this))),this.modal.show(),this.modal.place()},modal:function(){this.modal||(this.modal=new e.ui.Modal({modalType:"video"}),this.bindModalEvents(),this.$videoPlayer=this.getVideoEmbed(),this.modal.$modalContent.html(this.$videoPlayer),this.modal.$overlay.on("modal.place",t.proxy(this.placeModalVideo,this))),this.modal.show(),this.modal.place()}},sources:{youtube:function(){var i="https://www.youtube.com/embed/"+this.params.videoId,n={autoplay:this.params.autoplay,modestbranding:this.params.modestbranding,enablejsapi:1,rel:0},a=t("<iframe frameborder='0' allowfullscreen></iframe>");return i=e.utils.url.addUrlParams(n,i),a.attr("src",i).addClass("youtube video video-tracking"),a},vimeo:function(){var i="//player.vimeo.com/video/"+this.params.videoId,n={title:0,portrait:0,byline:0},a=t("<iframe frameborder='0' allowfullscreen></iframe>");return i=e.utils.url.addUrlParams(n,i),a.attr("src",i).addClass("vimeo video"),a}}}}(jQuery),function(t){var e=window.imkt||(window.imkt={});e.ui=e.ui||{},e.ui.VideoPlayer=function(e,i){this.domRoot=t(e),this.params=t.extend({},{disablekb:1,modestbranding:1,rel:0},i),this.$videoPlayerColumn=t(".imkt-video-player__video",this.domRoot),this.$videoCustomImage=t(".imkt-video-player__video-image",this.$videoPlayerColumn),this.$fakePlayButton=t("a",this.$videoCustomImage),this.$videoChapterLinksColumn=t(".imkt-video-player__links",this.domRoot),this.$videoChapterLinkWrapper=t("ol",this.$videoChapterLinksColumn),this.$videoChapterLink=t("a",this.$videoChapterLinksColumn),this.YouTubePlayerObject={},this.init()},e.ui.VideoPlayer.prototype={constants:{YOUTUBE_API_URL:"https://www.youtube.com/iframe_api",DISPLAY_TIME_DATA_ATTR:"data-display-time",CONVERTED_TIME_DATA_ATTR:"data-seconds",BOOKMARK_SELECTED_CLASS:"selected",TABLET_BREAKPOINT:800},init:function(){this.fetchAPI(),this.convertInputTimeToSeconds()},fetchAPI:function(){var e=this,i=t.Deferred();"undefined"==typeof YT?i=t.getScript(this.constants.YOUTUBE_API_URL):i.resolve(),t.when(i).then(function(){e.verifyAPI()})},verifyAPI:function(){var t=this;window.onYouTubePlayerAPIReady=function(){t.loadPlayer()}},loadPlayer:function(){var t=this;this.YouTubePlayerObject=new YT.Player(t.params.containerID,{videoId:t.params.videoID,playerVars:{autoplay:t.params.autoplay,disablekb:t.params.disablekb,modestbranding:t.params.modestbranding,rel:t.params.rel},onPlayerReady:t.initPlayer(),events:{onError:t.catchVideoError(),onStateChange:t.onPlayerStateChange}})},isStackedPlayer:function(){return!(t(window).width()>this.constants.TABLET_BREAKPOINT)},initPlayer:function(){this.bindVideoPlayerEvents(),this.isStackedPlayer()||this.setChapterListHeight()},bindVideoPlayerEvents:function(){var e=this;this.hasCustomImage()&&this.$fakePlayButton.on("click",function(){return e.$videoCustomImage.fadeOut(300),e.playVideo(),!1}),this.$videoChapterLink.on("click",function(){var i=t(this),n=i.attr(e.constants.CONVERTED_TIME_DATA_ATTR);return e.hasCustomImage()&&e.hideVideoCover(),i.hasClass(e.constants.BOOKMARK_SELECTED_CLASS)?(i.removeClass(e.constants.BOOKMARK_SELECTED_CLASS),e.pauseVideo()):(e.$videoChapterLink.removeClass(e.constants.BOOKMARK_SELECTED_CLASS),i.addClass(e.constants.BOOKMARK_SELECTED_CLASS),e.jumpToBookmark(n),e.isStackedPlayer()&&t("html,body").animate({scrollTop:e.$videoPlayerColumn.offset().top-75},350)),!1})},onPlayerStateChange:function(e){function i(){t(".imkt-video-player__links").find("a").removeClass("selected")}switch(e.data){case YT.PlayerState.PLAYING:break;case YT.PlayerState.PAUSED:i();break;case YT.PlayerState.ENDED:i();break;default:return}},hasCustomImage:function(){return!(!this.$fakePlayButton.length||!this.$videoCustomImage.length)},hideVideoCover:function(){this.$videoCustomImage.fadeOut(300)},convertInputTimeToSeconds:function(){var e=this;this.$videoChapterLink.each(function(){var i=t(this),n=i.attr(e.constants.DISPLAY_TIME_DATA_ATTR),a=n.split(":").reverse(),s=0;parseInt(a[0])>0&&(s+=parseInt(a[0])),parseInt(a[1])>0&&(s+=60*parseInt(a[1])),parseInt(a[2])>0&&(s+=3600*parseInt(a[2])),i.attr(e.constants.CONVERTED_TIME_DATA_ATTR,s)})},setChapterListHeight:function(){var t=this.$videoPlayerColumn.outerHeight();this.$videoChapterLinkWrapper.outerHeight()>t&&this.$videoChapterLinkWrapper.height(t)},jumpToBookmark:function(t){this.YouTubePlayerObject.stopVideo(),this.YouTubePlayerObject.seekTo(t,!1),this.YouTubePlayerObject.playVideo()},playVideo:function(){this.YouTubePlayerObject.playVideo()},pauseVideo:function(){this.YouTubePlayerObject.pauseVideo()},catchVideoError:function(){}}}(jQuery),function(t){var e=window.imkt||(window.imkt={});e.utils=e.utils||{},e.utils.url={getBareUrl:function(t){var e;return t=t||window.location.href,e=t.indexOf("?"),t.substring(0,e>-1?e:t.length)},getUnhashedUrl:function(t){var e;return t=t||window.location.href,e=t.indexOf("#"),t.substring(0,e>-1?e:t.length)},getProtocol:function(t){var e,i="";return t=this.getBareUrl(t||window.location.href),e=t.indexOf("://"),e>-1&&(i=t.substring(0,e)),i},getHostname:function(t){var e,i;return t=this.getBareUrl(t||window.location.href),e=this.getProtocol(t),i=e?e.length+3:0,t.substring(i,t.indexOf("/",i))},getQueryString:function(t){var e,i=window.location.search.substring(1,window.location.search.length);return t&&(t=this.getUnhashedUrl(t),e=t.indexOf("?"),i=e>-1?t.substring(e+1):""),i},updateQueryStringParam:function(t,i){var n=[location.protocol,"//",location.host,location.pathname].join(""),a=document.location.search,s=t+"="+i,o="?"+s;if(a){var r=new RegExp("([?&])"+t+"[^&]*");o=null!==a.match(r)?a.replace(r,"$1"+s):a+"&"+s}e.utils.history.pushState({},"",n+o)},getPathname:function(t){var e,i;return t=t||window.location.href,e=this.getHostname(t),i=t.indexOf("?"),t.substring(t.indexOf(e)+e.length,i>-1?i:t.length)},serialize:function(t){var e,i=[];for(var n in t)null!==t[n]&&(e=[n],e.push("="),e.push(encodeURIComponent(t[n])),i.push(e.join("")));return i.join("&")},getUrlParams:function(t){var e,i,n,a,s=null,o=0;if(e=this.getQueryString(t))for(i=e.split("&"),o;o<i.length;o++)s||(s={}),a=i[o],n=i[o].split("="),s[n[0]]=n.length>1?decodeURIComponent(n[1]):null;return s},addUrlParams:function(e,i){var n,a=[];return i=i||window.location.href,a.push(this.getBareUrl(i)),e=t.extend({},this.getUrlParams(i),e),n=this.serialize(e),n&&(a.push("?"),a.push(n)),a.join("")}}}(jQuery),function(t){var e=window.imkt||(window.imkt={});e.utils=e.utils||{},e.utils.browser={getBrowserOs:function(){var t=navigator.userAgent,e=[{s:"Windows 10",r:/(Windows 10.0|Windows NT 10.0)/},{s:"Windows 8.1",r:/(Windows 8.1|Windows NT 6.3)/},{s:"Windows 8",r:/(Windows 8|Windows NT 6.2)/},{s:"Windows 7",r:/(Windows 7|Windows NT 6.1)/},{s:"Windows Vista",r:/Windows NT 6.0/},{s:"Windows Server 2003",r:/Windows NT 5.2/},{s:"Windows XP",r:/(Windows NT 5.1|Windows XP)/},{s:"Windows 2000",r:/(Windows NT 5.0|Windows 2000)/},{s:"Windows ME",r:/(Win 9x 4.90|Windows ME)/},{s:"Windows 98",r:/(Windows 98|Win98)/},{s:"Windows 95",r:/(Windows 95|Win95|Windows_95)/},{s:"Windows NT 4.0",r:/(Windows NT 4.0|WinNT4.0|WinNT|Windows NT)/},{s:"Windows CE",r:/Windows CE/},{s:"Windows 3.11",r:/Win16/},{s:"Android",r:/Android/},{s:"Open BSD",r:/OpenBSD/},{s:"Sun OS",r:/SunOS/},{s:"Linux",r:/(Linux|X11)/},{s:"iOS",r:/(iPhone|iPad|iPod)/},{s:"Mac OS X",r:/Mac OS X/},{s:"Mac OS",r:/(MacPPC|MacIntel|Mac_PowerPC|Macintosh)/},{s:"QNX",r:/QNX/},{s:"UNIX",r:/UNIX/},{s:"BeOS",r:/BeOS/},{s:"OS/2",r:/OS\/2/},{s:"Search Bot",r:/(nuhk|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask Jeeves\/Teoma|ia_archiver)/}];for(var i in e){var n=e[i];if(n.r.test(t))return n.s}return"unknown"},isWindows:function(){var t=this.getBrowserOs();return t.indexOf("Windows")>-1},isMobile:function(){return e.core.supports.touch()&&screen.width&&screen.width<=e.constants.mobileBreakpoint}}}(jQuery),function(t){t.fn.onThrottled=function(t,e,i){var n;return this.on(t,function(t){clearTimeout(n),n=setTimeout(function(){e(t)},i||100)}),this}}(jQuery),function(t){var e=window.imkt||(window.imkt={});e.utils=e.utils||{},e.utils.general={randomString:function(t){for(var e="";e.length<t&&t>0;){var i=Math.random();e+=i<.1?Math.floor(100*i):String.fromCharCode(Math.floor(26*i)+(i>.5?97:65))}return e},numberWithCommas:function(t){return t.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")}}}(jQuery),function(t){var e=window.imkt||(window.imkt={});
e.utils=e.utils||{},e.utils.history={supportsHistory:function(){return window.history&&window.history.pushState},pushState:function(t,e,i){this.supportsHistory()&&(window.history.pushState(t,e,i),"undefined"!=typeof analytics&&analytics.page())},pushStateNoTracking:function(t,e,i){this.supportsHistory()&&window.history.pushState(t,e,i)}}}(jQuery),function(t){var e=window.imkt||(window.imkt={});e.utils=e.utils||{},e.utils.svg=function(e,i){this.targetClass="js-inlineSVG",this.doneClass="js-inlineSVG--done",this.svgLoaders=[],this.processedCounter=t(this.doneClass).length,this.init()},e.utils.svg.prototype={init:function(){t("body").hasClass("edit")||this.convertSvgs(this.targetClass,this.doneClass)},convertSvgs:function(e,i,n){var a=this;t("img."+e).each(function(){var n=t(this),s={id:n.attr("id"),"class":n.attr("class"),src:n.attr("src")},o=t.get(s.src,function(o){var r=t(o).find("svg");t(r).find("style").text(t(r).find("style").text().replace(/\.st/g,".imkt-svg-index-"+a.processedCounter+" .st")),r.attr("id",s.id),r.attr("class",s["class"].replace(e,i)+" imkt-svg-index-"+a.processedCounter),n.replaceWith(r),a.processedCounter++},"xml");a.svgLoaders.push(o)}),t.when.apply(t,a.svgLoaders).done(function(){t(document).trigger("imkt-svg-conversion-done")})}}}(jQuery),function(t){var e=window.imkt||(window.imkt={});e.utils=e.utils||{},e.utils.storage={hasStorage:localStorage&&"function"==typeof localStorage.getItem,getLocalStorage:function(t){if(!this.hasStorage)return this.getCookie(t);var e=localStorage.getItem(t);return e},setLocalStorage:function(t,e){this.hasStorage||this.setCookie(t,e),localStorage.setItem(t,e)},getCookie:function(t){var e=encodeURIComponent(t).replace(/[\-\.\+\*]/g,"\\$&"),i=new RegExp("(?:(?:^|.*;)\\s*"+e+"\\s*\\=\\s*([^;]*).*$)|^.*$");return decodeURIComponent(document.cookie.replace(i,"$1"))||null},setCookie:function(t,e){document.cookie=t+"="+e}}}(jQuery);